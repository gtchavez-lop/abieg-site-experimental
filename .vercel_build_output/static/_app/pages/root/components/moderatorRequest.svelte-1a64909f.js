import{S as s,i as a,s as e,e as t,t as r,k as c,c as l,a as o,g as n,d as i,n as h,b as u,E as d,f,F as v,G as m,h as g,D as p,W as b,X as E,H as x,j as $,m as w,o as y,x as I,u as j,v as q,w as A,a5 as D,A as V,r as M}from"../../../chunks/vendor-969998bb.js";import{s as R}from"../../../chunks/global-04cce44f.js";function k(s){let a,e,$,w,y,I,j,q,A,D,V,M=s[0].email+"";return{c(){a=t("div"),e=t("div"),$=t("div"),w=t("p"),y=r(M),I=c(),j=t("button"),q=r("Approve"),this.h()},l(s){a=l(s,"DIV",{class:!0,style:!0});var t=o(a);e=l(t,"DIV",{class:!0});var r=o(e);$=l(r,"DIV",{class:!0});var c=o($);w=l(c,"P",{class:!0});var u=o(w);y=n(u,M),u.forEach(i),I=h(c),j=l(c,"BUTTON",{class:!0});var d=o(j);q=n(d,"Approve"),d.forEach(i),c.forEach(i),r.forEach(i),t.forEach(i),this.h()},h(){u(w,"class","m-0 d-flex align-items-center"),u(j,"class","btn btn-success"),u($,"class","d-flex align-items-center justify-content-between"),u(e,"class","card-body"),u(a,"class","card rounded-3 shadow-sm card1 p-1 mb-2 bg-transparent"),d(a,"user-select","none")},m(t,r){f(t,a,r),v(a,e),v(e,$),v($,w),v(w,y),v($,I),v($,j),v(j,q),D||(V=m(j,"click",s[2]),D=!0)},p(a,[e]){s=a,1&e&&M!==(M=s[0].email+"")&&g(y,M)},i(e){A||p((()=>{A=b(a,E,{y:20,duration:500,delay:100+50*s[1]}),A.start()}))},o:x,d(s){s&&i(a),D=!1,V()}}}function H(s,a,e){let{thisuser:t,index:r}=a;return s.$$set=s=>{"thisuser"in s&&e(0,t=s.thisuser),"index"in s&&e(1,r=s.index)},[t,r,async s=>{let{data:a,error:e}=await R.from("users").update({isRequestingModAccount:"false",isModerator:"true"}).eq("id",t.id);e||location.reload()}]}class B extends s{constructor(s){super(),a(this,s,H,k,e,{thisuser:0,index:1})}}function N(s,a,e){const t=s.slice();return t[1]=a[e],t[3]=e,t}function T(s){let a,e;return a=new B({props:{thisuser:s[1],index:s[3]}}),{c(){$(a.$$.fragment)},l(s){w(a.$$.fragment,s)},m(s,t){y(a,s,t),e=!0},p(s,e){const t={};1&e&&(t.thisuser=s[1]),a.$set(t)},i(s){e||(I(a.$$.fragment,s),e=!0)},o(s){j(a.$$.fragment,s),e=!1},d(s){q(a,s)}}}function F(s){let a,e,d,m,x,$,w,y,q,V,R,k,H,B,F,G,O,P,S=s[0].length+"",U=s[0],W=[];for(let t=0;t<U.length;t+=1)W[t]=T(N(s,U,t));const X=s=>j(W[s],1,1,(()=>{W[s]=null}));return{c(){a=t("main"),e=t("div"),d=t("div"),m=t("div"),x=t("h5"),$=r("Moderator Request"),w=c(),y=t("h1"),q=r(S),V=c(),R=t("i"),k=c(),H=t("div"),B=t("h5"),F=r("All Requests"),G=c();for(let s=0;s<W.length;s+=1)W[s].c();this.h()},l(s){a=l(s,"MAIN",{class:!0});var t=o(a);e=l(t,"DIV",{class:!0});var r=o(e);d=l(r,"DIV",{class:!0});var c=o(d);m=l(c,"DIV",{class:!0});var u=o(m);x=l(u,"H5",{});var f=o(x);$=n(f,"Moderator Request"),f.forEach(i),w=h(u),y=l(u,"H1",{class:!0});var v=o(y);q=n(v,S),v.forEach(i),V=h(u),R=l(u,"I",{class:!0}),o(R).forEach(i),u.forEach(i),c.forEach(i),r.forEach(i),k=h(t),H=l(t,"DIV",{class:!0});var g=o(H);B=l(g,"H5",{});var p=o(B);F=n(p,"All Requests"),p.forEach(i),G=h(g);for(let a=0;a<W.length;a+=1)W[a].l(g);g.forEach(i),t.forEach(i),this.h()},h(){u(y,"class","mt-4"),u(R,"class","bi bi-arrow-up-right-circle svelte-1oj9r5s"),u(m,"class","card-body svelte-1oj9r5s"),u(d,"class","card border-3 rounded-3 shadow-sm svelte-1oj9r5s"),u(e,"class","container"),u(H,"class","container mt-5"),u(a,"class","text-white svelte-1oj9r5s")},m(s,t){f(s,a,t),v(a,e),v(e,d),v(d,m),v(m,x),v(x,$),v(m,w),v(m,y),v(y,q),v(m,V),v(m,R),v(a,k),v(a,H),v(H,B),v(B,F),v(H,G);for(let a=0;a<W.length;a+=1)W[a].m(H,null);P=!0},p(s,[a]){if((!P||1&a)&&S!==(S=s[0].length+"")&&g(q,S),1&a){let e;for(U=s[0],e=0;e<U.length;e+=1){const t=N(s,U,e);W[e]?(W[e].p(t,a),I(W[e],1)):(W[e]=T(t),W[e].c(),I(W[e],1),W[e].m(H,null))}for(M(),e=U.length;e<W.length;e+=1)X(e);A()}},i(s){if(!P){for(let s=0;s<U.length;s+=1)I(W[s]);O||p((()=>{O=b(a,E,{y:20,duration:500}),O.start()})),P=!0}},o(s){W=W.filter(Boolean);for(let a=0;a<W.length;a+=1)j(W[a]);P=!1},d(s){s&&i(a),D(W,s)}}}function G(s,a,e){let t=[];return V((async s=>{let{data:a,error:r}=await R.from("users").select("*").eq("isRequestingModAccount","true");r||e(0,t=a)})),[t]}class O extends s{constructor(s){super(),a(this,s,G,F,e,{})}}export{O as default};
