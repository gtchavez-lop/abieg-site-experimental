import{S as s,i as e,s as t,D as a,k as l,l as o,n as i,f as n,e as c,t as r,c as u,a as m,g,d as p,b as d,F as f,x as v,j as h,m as w,o as E,u as x,v as b,w as $,a8 as D,G as T,A as j,r as A}from"../../chunks/vendor-969998bb.js";import{s as N}from"../../chunks/global-04cce44f.js";import S from"./components/SlugContent.svelte-c9ee5f23.js";function k(s){let e,t,a,c=s[0].isExclusive&&0==s[3]&&y(),r=(s[0].isExclusive&&s[3]||!s[0].isExclusive&&!s[3]||!s[0].isExclusive&&s[3])&&G(s);return{c(){c&&c.c(),e=l(),r&&r.c(),t=o()},l(s){c&&c.l(s),e=i(s),r&&r.l(s),t=o()},m(s,l){c&&c.m(s,l),n(s,e,l),r&&r.m(s,l),n(s,t,l),a=!0},p(s,a){s[0].isExclusive&&0==s[3]?c||(c=y(),c.c(),c.m(e.parentNode,e)):c&&(c.d(1),c=null),s[0].isExclusive&&s[3]||!s[0].isExclusive&&!s[3]||!s[0].isExclusive&&s[3]?r?(r.p(s,a),9&a&&v(r,1)):(r=G(s),r.c(),v(r,1),r.m(t.parentNode,t)):r&&(A(),x(r,1,1,(()=>{r=null})),$())},i(s){a||(v(r),a=!0)},o(s){x(r),a=!1},d(s){c&&c.d(s),s&&p(e),r&&r.d(s),s&&p(t)}}}function y(s){let e,t,a;return{c(){e=c("main"),t=c("p"),a=r("Please Sign in to view this page"),this.h()},l(s){e=u(s,"MAIN",{class:!0});var l=m(e);t=u(l,"P",{class:!0});var o=m(t);a=g(o,"Please Sign in to view this page"),o.forEach(p),l.forEach(p),this.h()},h(){d(t,"class","lead text-white"),d(e,"class","svelte-19qb5yu")},m(s,l){n(s,e,l),f(e,t),f(t,a)},d(s){s&&p(e)}}}function G(s){let e,t;return e=new S({props:{blogData:s[0]}}),{c(){h(e.$$.fragment)},l(s){w(e.$$.fragment,s)},m(s,a){E(e,s,a),t=!0},p(s,t){const a={};1&t&&(a.blogData=s[0]),e.$set(a)},i(s){t||(v(e.$$.fragment,s),t=!0)},o(s){x(e.$$.fragment,s),t=!1},d(s){b(e,s)}}}function I(s){let e,t,c,r,u,m,g,d=!1,f=()=>{d=!1};a(s[5]),document.title=t="ABIE G | "+s[1];let h=s[0]&&k(s);return{c(){c=l(),h&&h.c(),r=o()},l(s){D('[data-svelte="svelte-tpmuts"]',document.head).forEach(p),c=i(s),h&&h.l(s),r=o()},m(t,a){n(t,c,a),h&&h.m(t,a),n(t,r,a),u=!0,m||(g=T(window,"scroll",(()=>{d=!0,clearTimeout(e),e=setTimeout(f,100),s[5]()})),m=!0)},p(s,[a]){4&a&&!d&&(d=!0,clearTimeout(e),scrollTo(window.pageXOffset,s[2]),e=setTimeout(f,100)),(!u||2&a)&&t!==(t="ABIE G | "+s[1])&&(document.title=t),s[0]?h?(h.p(s,a),1&a&&v(h,1)):(h=k(s),h.c(),v(h,1),h.m(r.parentNode,r)):h&&(A(),x(h,1,1,(()=>{h=null})),$())},i(s){u||(v(h),u=!0)},o(s){x(h),u=!1},d(s){s&&p(c),h&&h.d(s),s&&p(r),m=!1,g()}}}const P=async s=>({props:{slug:s.page.params.slug}});function q(s,e,t){let a,l,{slug:o}=e,{blogData:i}=e,n=!1;return j((async s=>{await N.auth.user()&&t(3,n=!0);let{data:e,error:l}=await N.from("posts").select("*").eq("id",o);(!l||e.length>0)&&(t(0,i=e[0]),t(1,a=e[0].title))})),s.$$set=s=>{"slug"in s&&t(4,o=s.slug),"blogData"in s&&t(0,i=s.blogData)},[i,a,l,n,o,function(){t(2,l=window.pageYOffset)}]}class B extends s{constructor(s){super(),e(this,s,q,I,t,{slug:4,blogData:0})}}export{B as default,P as load};
