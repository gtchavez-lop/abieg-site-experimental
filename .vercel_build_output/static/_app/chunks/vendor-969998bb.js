var t=Object.defineProperty,e=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,o=(e,n,r)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,a=(t,e)=>{for(var n in e||(e={}))s.call(e,n)&&o(t,n,e[n]);if(r)for(var n of r(e))i.call(e,n)&&o(t,n,e[n]);return t},c=(t,r)=>e(t,n(r));"undefined"!=typeof require&&require;function l(){}const u=t=>t;function h(t,e){for(const n in e)t[n]=e[n];return t}function d(t){return t()}function f(){return Object.create(null)}function p(t){t.forEach(d)}function m(t){return"function"==typeof t}function g(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let y;function v(t,e){return y||(y=document.createElement("a")),y.href=e,t===y.href}function b(t,e,n){t.$$.on_destroy.push(function(t,...e){if(null==t)return l;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}(e,n))}function $(t,e,n,r){if(t){const s=_(t,e,n,r);return t[0](s)}}function _(t,e,n,r){return t[1]&&r?h(n.ctx.slice(),t[1](r(e))):n.ctx}function w(t,e,n,r){if(t[2]&&r){const s=t[2](r(n));if(void 0===e.dirty)return s;if("object"==typeof s){const t=[],n=Math.max(e.dirty.length,s.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|s[r];return t}return e.dirty|s}return e.dirty}function T(t,e,n,r,s,i){if(s){const o=_(e,n,r,i);t.p(o,s)}}function x(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}const E="undefined"!=typeof window;let S=E?()=>window.performance.now():()=>Date.now(),k=E?t=>requestAnimationFrame(t):l;const O=new Set;function j(t){O.forEach((e=>{e.c(t)||(O.delete(e),e.f())})),0!==O.size&&k(j)}function P(t){let e;return 0===O.size&&k(j),{promise:new Promise((n=>{O.add(e={c:t,f:n})})),abort(){O.delete(e)}}}let C=!1;function A(t,e,n,r){for(;t<e;){const s=t+(e-t>>1);n(s)<=r?t=s+1:e=s}return t}function R(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function I(t){const e=L("style");return function(t,e){!function(t,e){t.appendChild(e)}(t.head||t,e)}(R(t),e),e}function D(t,e){if(C){for(!function(t){if(t.hydrate_init)return;t.hydrate_init=!0;let e=t.childNodes;if("HEAD"===t.nodeName){const t=[];for(let n=0;n<e.length;n++){const r=e[n];void 0!==r.claim_order&&t.push(r)}e=t}const n=new Int32Array(e.length+1),r=new Int32Array(e.length);n[0]=-1;let s=0;for(let c=0;c<e.length;c++){const t=e[c].claim_order,i=(s>0&&e[n[s]].claim_order<=t?s+1:A(1,s,(t=>e[n[t]].claim_order),t))-1;r[c]=n[i]+1;const o=i+1;n[o]=c,s=Math.max(o,s)}const i=[],o=[];let a=e.length-1;for(let c=n[s]+1;0!=c;c=r[c-1]){for(i.push(e[c-1]);a>=c;a--)o.push(e[a]);a--}for(;a>=0;a--)o.push(e[a]);i.reverse(),o.sort(((t,e)=>t.claim_order-e.claim_order));for(let c=0,l=0;c<o.length;c++){for(;l<i.length&&o[c].claim_order>=i[l].claim_order;)l++;const e=l<i.length?i[l]:null;t.insertBefore(o[c],e)}}(t),(void 0===t.actual_end_child||null!==t.actual_end_child&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild);null!==t.actual_end_child&&void 0===t.actual_end_child.claim_order;)t.actual_end_child=t.actual_end_child.nextSibling;e!==t.actual_end_child?void 0===e.claim_order&&e.parentNode===t||t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling}else e.parentNode===t&&null===e.nextSibling||t.appendChild(e)}function M(t,e,n){t.insertBefore(e,n||null)}function N(t,e,n){C&&!n?D(t,e):e.parentNode===t&&e.nextSibling==n||t.insertBefore(e,n||null)}function U(t){t.parentNode.removeChild(t)}function B(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function L(t){return document.createElement(t)}function H(t){return document.createTextNode(t)}function F(){return H(" ")}function G(){return H("")}function W(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function q(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function J(t){return Array.from(t.childNodes)}function z(t){void 0===t.claim_info&&(t.claim_info={last_index:0,total_claimed:0})}function V(t,e,n,r,s=!1){z(t);const i=(()=>{for(let r=t.claim_info.last_index;r<t.length;r++){const i=t[r];if(e(i)){const e=n(i);return void 0===e?t.splice(r,1):t[r]=e,s||(t.claim_info.last_index=r),i}}for(let r=t.claim_info.last_index-1;r>=0;r--){const i=t[r];if(e(i)){const e=n(i);return void 0===e?t.splice(r,1):t[r]=e,s?void 0===e&&t.claim_info.last_index--:t.claim_info.last_index=r,i}}return r()})();return i.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,i}function Y(t,e,n){return function(t,e,n,r){return V(t,(t=>t.nodeName===e),(t=>{const e=[];for(let r=0;r<t.attributes.length;r++){const s=t.attributes[r];n[s.name]||e.push(s.name)}e.forEach((e=>t.removeAttribute(e)))}),(()=>r(e)))}(t,e,n,L)}function K(t,e){return V(t,(t=>3===t.nodeType),(t=>{const n=""+e;if(t.data.startsWith(n)){if(t.data.length!==n.length)return t.splitText(n.length)}else t.data=n}),(()=>H(e)),!0)}function X(t){return K(t," ")}function Z(t,e,n){for(let r=n;r<t.length;r+=1){const n=t[r];if(8===n.nodeType&&n.textContent.trim()===e)return r}return t.length}function Q(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function tt(t,e){t.value=null==e?"":e}function et(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function nt(t,e,n){t.classList[n?"add":"remove"](e)}function rt(t,e,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,!1,e),r}function st(t,e=document.body){return Array.from(e.querySelectorAll(t))}class it extends class{constructor(){this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){this.e||(this.e=L(e.nodeName),this.t=e,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)M(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(U)}}{constructor(t){super(),this.e=this.n=null,this.l=t}c(t){this.l?this.n=this.l:super.c(t)}i(t){for(let e=0;e<this.n.length;e+=1)N(this.t,this.n[e],t)}}const ot=new Set;let at,ct=0;function lt(t,e,n,r,s,i,o,a=0){const c=16.666/r;let l="{\n";for(let g=0;g<=1;g+=c){const t=e+(n-e)*i(g);l+=100*g+`%{${o(t,1-t)}}\n`}const u=l+`100% {${o(n,1-n)}}\n}`,h=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${a}`,d=R(t);ot.add(d);const f=d.__svelte_stylesheet||(d.__svelte_stylesheet=I(t).sheet),p=d.__svelte_rules||(d.__svelte_rules={});p[h]||(p[h]=!0,f.insertRule(`@keyframes ${h} ${u}`,f.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${h} ${r}ms linear ${s}ms 1 both`,ct+=1,h}function ut(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),s=n.length-r.length;s&&(t.style.animation=r.join(", "),ct-=s,ct||k((()=>{ct||(ot.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),ot.clear())})))}function ht(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const r=getComputedStyle(t),s="none"===r.transform?"":r.transform;t.style.transform=`${s} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}function dt(t){at=t}function ft(){if(!at)throw new Error("Function called outside component initialization");return at}function pt(t){ft().$$.on_mount.push(t)}function mt(t){ft().$$.after_update.push(t)}function gt(t,e){ft().$$.context.set(t,e)}const yt=[],vt=[],bt=[],$t=[],_t=Promise.resolve();let wt=!1;function Tt(){wt||(wt=!0,_t.then(Ot))}function xt(t){bt.push(t)}function Et(t){$t.push(t)}let St=!1;const kt=new Set;function Ot(){if(!St){St=!0;do{for(let t=0;t<yt.length;t+=1){const e=yt[t];dt(e),jt(e.$$)}for(dt(null),yt.length=0;vt.length;)vt.pop()();for(let t=0;t<bt.length;t+=1){const e=bt[t];kt.has(e)||(kt.add(e),e())}bt.length=0}while(yt.length);for(;$t.length;)$t.pop()();wt=!1,St=!1,kt.clear()}}function jt(t){if(null!==t.fragment){t.update(),p(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(xt)}}let Pt;function Ct(){return Pt||(Pt=Promise.resolve(),Pt.then((()=>{Pt=null}))),Pt}function At(t,e,n){t.dispatchEvent(rt(`${e?"intro":"outro"}${n}`))}const Rt=new Set;let It;function Dt(){It={r:0,c:[],p:It}}function Mt(){It.r||p(It.c),It=It.p}function Nt(t,e){t&&t.i&&(Rt.delete(t),t.i(e))}function Ut(t,e,n,r){if(t&&t.o){if(Rt.has(t))return;Rt.add(t),It.c.push((()=>{Rt.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const Bt={duration:0};function Lt(t,e,n){let r,s,i=e(t,n),o=!1,a=0;function c(){r&&ut(t,r)}function h(){const{delay:e=0,duration:n=300,easing:h=u,tick:d=l,css:f}=i||Bt;f&&(r=lt(t,0,1,n,e,h,f,a++)),d(0,1);const p=S()+e,m=p+n;s&&s.abort(),o=!0,xt((()=>At(t,!0,"start"))),s=P((e=>{if(o){if(e>=m)return d(1,0),At(t,!0,"end"),c(),o=!1;if(e>=p){const t=h((e-p)/n);d(t,1-t)}}return o}))}let d=!1;return{start(){d||(d=!0,ut(t),m(i)?(i=i(),Ct().then(h)):h())},invalidate(){d=!1},end(){o&&(c(),o=!1)}}}function Ht(t,e,n){let r,s=e(t,n),i=!0;const o=It;function a(){const{delay:e=0,duration:n=300,easing:a=u,tick:c=l,css:h}=s||Bt;h&&(r=lt(t,1,0,n,e,a,h));const d=S()+e,f=d+n;xt((()=>At(t,!1,"start"))),P((e=>{if(i){if(e>=f)return c(0,1),At(t,!1,"end"),--o.r||p(o.c),!1;if(e>=d){const t=a((e-d)/n);c(1-t,t)}}return i}))}return o.r+=1,m(s)?Ct().then((()=>{s=s(),a()})):a(),{end(e){e&&s.tick&&s.tick(1,0),i&&(r&&ut(t,r),i=!1)}}}function Ft(t,e,n,r){let s=e(t,n),i=r?0:1,o=null,a=null,c=null;function h(){c&&ut(t,c)}function d(t,e){const n=t.b-i;return e*=Math.abs(n),{a:i,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function f(e){const{delay:n=0,duration:r=300,easing:f=u,tick:m=l,css:g}=s||Bt,y={start:S()+n,b:e};e||(y.group=It,It.r+=1),o||a?a=y:(g&&(h(),c=lt(t,i,e,r,n,f,g)),e&&m(0,1),o=d(y,r),xt((()=>At(t,e,"start"))),P((e=>{if(a&&e>a.start&&(o=d(a,r),a=null,At(t,o.b,"start"),g&&(h(),c=lt(t,i,o.b,o.duration,0,f,s.css))),o)if(e>=o.end)m(i=o.b,1-i),At(t,o.b,"end"),a||(o.b?h():--o.group.r||p(o.group.c)),o=null;else if(e>=o.start){const t=e-o.start;i=o.a+o.d*f(t/o.duration),m(i,1-i)}return!(!o&&!a)})))}return{run(t){m(s)?Ct().then((()=>{s=s(),f(t)})):f(t)},end(){h(),o=a=null}}}const Gt="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Wt(t,e){t.f(),function(t,e){Ut(t,1,1,(()=>{e.delete(t.key)}))}(t,e)}function qt(t,e){const n={},r={},s={$$scope:1};let i=t.length;for(;i--;){const o=t[i],a=e[i];if(a){for(const t in o)t in a||(r[t]=1);for(const t in a)s[t]||(n[t]=a[t],s[t]=1);t[i]=a}else for(const t in o)s[t]=1}for(const o in r)o in n||(n[o]=void 0);return n}function Jt(t){return"object"==typeof t&&null!==t?t:{}}function zt(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Vt(t){t&&t.c()}function Yt(t,e){t&&t.l(e)}function Kt(t,e,n,r){const{fragment:s,on_mount:i,on_destroy:o,after_update:a}=t.$$;s&&s.m(e,n),r||xt((()=>{const e=i.map(d).filter(m);o?o.push(...e):p(e),t.$$.on_mount=[]})),a.forEach(xt)}function Xt(t,e){const n=t.$$;null!==n.fragment&&(p(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Zt(t,e,n,r,s,i,o,a=[-1]){const c=at;dt(t);const u=t.$$={fragment:null,ctx:null,props:i,update:l,not_equal:s,bound:f(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:e.context||[]),callbacks:f(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};o&&o(u.root);let h=!1;if(u.ctx=n?n(t,e.props||{},((e,n,...r)=>{const i=r.length?r[0]:n;return u.ctx&&s(u.ctx[e],u.ctx[e]=i)&&(!u.skip_bound&&u.bound[e]&&u.bound[e](i),h&&function(t,e){-1===t.$$.dirty[0]&&(yt.push(t),Tt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],u.update(),h=!0,p(u.before_update),u.fragment=!!r&&r(u.ctx),e.target){if(e.hydrate){C=!0;const t=J(e.target);u.fragment&&u.fragment.l(t),t.forEach(U)}else u.fragment&&u.fragment.c();e.intro&&Nt(t.$$.fragment),Kt(t,e.target,e.anchor,e.customElement),C=!1,Ot()}dt(c)}class Qt{$destroy(){Xt(this,1),this.$destroy=l}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const te=[];function ee(t,e=l){let n;const r=new Set;function s(e){if(g(t,e)&&(t=e,n)){const e=!te.length;for(const n of r)n[1](),te.push(n,t);if(e){for(let t=0;t<te.length;t+=2)te[t][0](te[t+1]);te.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(i,o=l){const a=[i,o];return r.add(a),1===r.size&&(n=e(s)||l),i(t),()=>{r.delete(a),0===r.size&&(n(),n=null)}}}}const ne={"X-Client-Info":"supabase-js/1.22.6"};var re="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function se(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ie={exports:{}};!function(t,e){var n,r="undefined"!=typeof self?self:re,s=function(){function t(){this.fetch=!1,this.DOMException=r.DOMException}return t.prototype=r,new t}();n=s,function(t){var e="URLSearchParams"in n,r="Symbol"in n&&"iterator"in Symbol,s="FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(t){return!1}}(),i="FormData"in n,o="ArrayBuffer"in n;if(o)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function l(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!=typeof t&&(t=String(t)),t}function h(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function d(t){this.map={},t instanceof d?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function f(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function m(t){var e=new FileReader,n=p(e);return e.readAsArrayBuffer(t),n}function g(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){var n;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:s&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:i&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:e&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():o&&s&&(n=t)&&DataView.prototype.isPrototypeOf(n)?(this._bodyArrayBuffer=g(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=g(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s&&(this.blob=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var t,e,n,r=f(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=p(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then($)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(t,e){t=l(t),e=u(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},d.prototype.delete=function(t){delete this.map[l(t)]},d.prototype.get=function(t){return t=l(t),this.has(t)?this.map[t]:null},d.prototype.has=function(t){return this.map.hasOwnProperty(l(t))},d.prototype.set=function(t,e){this.map[l(t)]=u(e)},d.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},d.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),h(t)},d.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),h(t)},d.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),h(t)},r&&(d.prototype[Symbol.iterator]=d.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(t,e){var n,r,s=(e=e||{}).body;if(t instanceof b){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new d(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,s||null==t._bodyInit||(s=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new d(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),v.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(s)}function $(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),s=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(s))}})),e}function _(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new d(e.headers),this.url=e.url||"",this._initBody(t)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},y.call(b.prototype),y.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var w=[301,302,303,307,308];_.redirect=function(t,e){if(-1===w.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})},t.DOMException=n.DOMException;try{new t.DOMException}catch(x){t.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function T(e,n){return new Promise((function(r,i){var o=new b(e,n);if(o.signal&&o.signal.aborted)return i(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new d,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var s=n.join(":").trim();e.append(r,s)}})),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var s="response"in a?a.response:a.responseText;r(new _(s,n))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.onabort=function(){i(new t.DOMException("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&s&&(a.responseType="blob"),o.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),o.signal&&(o.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",c)}),a.send(void 0===o._bodyInit?null:o._bodyInit)}))}T.polyfill=!0,n.fetch||(n.fetch=T,n.Headers=d,n.Request=b,n.Response=_),t.Headers=d,t.Request=b,t.Response=_,t.fetch=T,Object.defineProperty(t,"__esModule",{value:!0})}({}),s.fetch.ponyfill=!0,delete s.fetch.polyfill;var i=s;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(ie,ie.exports);var oe=se(ie.exports),ae=function(t,e,n,r){return new(n||(n=Promise))((function(s,i){function o(t){try{c(r.next(t))}catch(e){i(e)}}function a(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((r=r.apply(t,e||[])).next())}))};const ce=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t);function le(t,e,n,r){return ae(this,void 0,void 0,(function*(){return new Promise(((s,i)=>{oe(e,((t,e,n)=>{const r={method:t,headers:(null==e?void 0:e.headers)||{}};return"GET"===t||(r.headers=Object.assign({"Content-Type":"text/plain;charset=UTF-8"},null==e?void 0:e.headers),r.body=JSON.stringify(n)),r})(t,n,r)).then((t=>{if(!t.ok)throw t;return(null==n?void 0:n.noResolveJson)?s:t.json()})).then((t=>s(t))).catch((t=>((t,e)=>{if("function"!=typeof t.json)return e(t);t.json().then((n=>e({message:ce(n),status:(null==t?void 0:t.status)||500})))})(t,i)))}))}))}function ue(t,e,n){return ae(this,void 0,void 0,(function*(){return le("POST",t,n,e)}))}const he={"X-Client-Info":"gotrue-js/1.18.0"},de="supabase.auth.token",fe={name:"sb:token",lifetime:28800,domain:"",path:"/",sameSite:"lax"};function pe(t,e){var n,r,s;return function(t,e,n){const r=n||{},s=encodeURIComponent,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;if("function"!=typeof s)throw new TypeError("option encode is invalid");if(!i.test(t))throw new TypeError("argument name is invalid");const o=s(e);if(o&&!i.test(o))throw new TypeError("argument val is invalid");let a=t+"="+o;if(null!=r.maxAge){const t=r.maxAge-0;if(isNaN(t)||!isFinite(t))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(t)}if(r.domain){if(!i.test(r.domain))throw new TypeError("option domain is invalid");a+="; Domain="+r.domain}if(r.path){if(!i.test(r.path))throw new TypeError("option path is invalid");a+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");a+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a}(t.name,t.value,{maxAge:t.maxAge,expires:new Date(Date.now()+1e3*t.maxAge),httpOnly:!0,secure:e,path:null!==(n=t.path)&&void 0!==n?n:"/",domain:null!==(r=t.domain)&&void 0!==r?r:"",sameSite:null!==(s=t.sameSite)&&void 0!==s?s:"lax"})}function me(t,e,n){const r=n.map((e=>pe(e,function(t){if(!t||!t.headers||!t.headers.host)throw new Error('The "host" request header is not available');const e=t.headers.host.indexOf(":")>-1&&t.headers.host.split(":")[0]||t.headers.host;return!(["localhost","127.0.0.1"].indexOf(e)>-1||e.endsWith(".local"))}(t)))),s=e.getHeader("Set-Cookie");s&&(s instanceof Array?Array.prototype.push.apply(r,s):"string"==typeof s&&r.push(s)),e.setHeader("Set-Cookie",r)}function ge(t,e,n){me(t,e,[n])}function ye(t){return Math.round(Date.now()/1e3)+t}const ve=()=>"undefined"!=typeof window;function be(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&#]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}var $e=function(t,e,n,r){return new(n||(n=Promise))((function(s,i){function o(t){try{c(r.next(t))}catch(e){i(e)}}function a(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((r=r.apply(t,e||[])).next())}))};class _e{constructor({url:t="",headers:e={},cookieOptions:n}){this.url=t,this.headers=e,this.cookieOptions=Object.assign(Object.assign({},fe),n)}signUpWithEmail(t,e,n={}){return $e(this,void 0,void 0,(function*(){try{let r=Object.assign({},this.headers),s="";n.redirectTo&&(s="?redirect_to="+encodeURIComponent(n.redirectTo));const i=yield ue(`${this.url}/signup${s}`,{email:t,password:e,data:n.data},{headers:r});let o=Object.assign({},i);return o.expires_in&&(o.expires_at=ye(i.expires_in)),{data:o,error:null}}catch(r){return{data:null,error:r}}}))}signInWithEmail(t,e,n={}){return $e(this,void 0,void 0,(function*(){try{let r=Object.assign({},this.headers),s="?grant_type=password";n.redirectTo&&(s+="&redirect_to="+encodeURIComponent(n.redirectTo));const i=yield ue(`${this.url}/token${s}`,{email:t,password:e},{headers:r});let o=Object.assign({},i);return o.expires_in&&(o.expires_at=ye(i.expires_in)),{data:o,error:null}}catch(r){return{data:null,error:r}}}))}signUpWithPhone(t,e,n={}){return $e(this,void 0,void 0,(function*(){try{let r=Object.assign({},this.headers);const s=yield ue(`${this.url}/signup`,{phone:t,password:e,data:n.data},{headers:r});let i=Object.assign({},s);return i.expires_in&&(i.expires_at=ye(s.expires_in)),{data:i,error:null}}catch(r){return{data:null,error:r}}}))}signInWithPhone(t,e){return $e(this,void 0,void 0,(function*(){try{let n=Object.assign({},this.headers),r="?grant_type=password";const s=yield ue(`${this.url}/token${r}`,{phone:t,password:e},{headers:n});let i=Object.assign({},s);return i.expires_in&&(i.expires_at=ye(s.expires_in)),{data:i,error:null}}catch(n){return{data:null,error:n}}}))}sendMagicLinkEmail(t,e={}){return $e(this,void 0,void 0,(function*(){try{let n=Object.assign({},this.headers),r="";e.redirectTo&&(r+="?redirect_to="+encodeURIComponent(e.redirectTo));return{data:yield ue(`${this.url}/magiclink${r}`,{email:t},{headers:n}),error:null}}catch(n){return{data:null,error:n}}}))}sendMobileOTP(t){return $e(this,void 0,void 0,(function*(){try{let e=Object.assign({},this.headers);return{data:yield ue(`${this.url}/otp`,{phone:t},{headers:e}),error:null}}catch(e){return{data:null,error:e}}}))}verifyMobileOTP(t,e,n={}){return $e(this,void 0,void 0,(function*(){try{let r=Object.assign({},this.headers);return{data:yield ue(`${this.url}/verify`,{phone:t,token:e,type:"sms",redirect_to:n.redirectTo},{headers:r}),error:null}}catch(r){return{data:null,error:r}}}))}inviteUserByEmail(t,e={}){return $e(this,void 0,void 0,(function*(){try{let n=Object.assign({},this.headers),r="";e.redirectTo&&(r+="?redirect_to="+encodeURIComponent(e.redirectTo));return{data:yield ue(`${this.url}/invite${r}`,{email:t,data:e.data},{headers:n}),error:null}}catch(n){return{data:null,error:n}}}))}resetPasswordForEmail(t,e={}){return $e(this,void 0,void 0,(function*(){try{let n=Object.assign({},this.headers),r="";e.redirectTo&&(r+="?redirect_to="+encodeURIComponent(e.redirectTo));return{data:yield ue(`${this.url}/recover${r}`,{email:t},{headers:n}),error:null}}catch(n){return{data:null,error:n}}}))}_createRequestHeaders(t){const e=Object.assign({},this.headers);return e.Authorization=`Bearer ${t}`,e}signOut(t){return $e(this,void 0,void 0,(function*(){try{return yield ue(`${this.url}/logout`,{},{headers:this._createRequestHeaders(t),noResolveJson:!0}),{error:null}}catch(e){return{error:e}}}))}getUrlForProvider(t,e){let n=[`provider=${encodeURIComponent(t)}`];return(null==e?void 0:e.redirectTo)&&n.push(`redirect_to=${encodeURIComponent(e.redirectTo)}`),(null==e?void 0:e.scopes)&&n.push(`scopes=${encodeURIComponent(e.scopes)}`),`${this.url}/authorize?${n.join("&")}`}getUser(t){return $e(this,void 0,void 0,(function*(){try{const e=yield function(t,e){return ae(this,void 0,void 0,(function*(){return le("GET",t,e)}))}(`${this.url}/user`,{headers:this._createRequestHeaders(t)});return{user:e,data:e,error:null}}catch(e){return{user:null,data:null,error:e}}}))}updateUser(t,e){return $e(this,void 0,void 0,(function*(){try{const n=yield function(t,e,n){return ae(this,void 0,void 0,(function*(){return le("PUT",t,n,e)}))}(`${this.url}/user`,e,{headers:this._createRequestHeaders(t)});return{user:n,data:n,error:null}}catch(n){return{user:null,data:null,error:n}}}))}deleteUser(t,e){return $e(this,void 0,void 0,(function*(){try{const n=yield function(t,e,n){return ae(this,void 0,void 0,(function*(){return le("DELETE",t,n,e)}))}(`${this.url}/admin/users/${t}`,{},{headers:this._createRequestHeaders(e)});return{user:n,data:n,error:null}}catch(n){return{user:null,data:null,error:n}}}))}refreshAccessToken(t){return $e(this,void 0,void 0,(function*(){try{const e=yield ue(`${this.url}/token?grant_type=refresh_token`,{refresh_token:t},{headers:this.headers});let n=Object.assign({},e);return n.expires_in&&(n.expires_at=ye(e.expires_in)),{data:n,error:null}}catch(e){return{data:null,error:e}}}))}setAuthCookie(t,e){"POST"!==t.method&&(e.setHeader("Allow","POST"),e.status(405).end("Method Not Allowed"));const{event:n,session:r}=t.body;if(!n)throw new Error("Auth event missing!");if("SIGNED_IN"===n){if(!r)throw new Error("Auth session missing!");ge(t,e,{name:this.cookieOptions.name,value:r.access_token,domain:this.cookieOptions.domain,maxAge:this.cookieOptions.lifetime,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite})}"SIGNED_OUT"===n&&function(t,e,n){ge(t,e,{name:n,value:"",maxAge:-1})}(t,e,this.cookieOptions.name),e.status(200).json({})}getUserByCookie(t){return $e(this,void 0,void 0,(function*(){try{if(!t.cookies)throw new Error("Not able to parse cookies! When using Express make sure the cookie-parser middleware is in use!");if(!t.cookies[this.cookieOptions.name])throw new Error("No cookie found!");const e=t.cookies[this.cookieOptions.name],{user:n,error:r}=yield this.getUser(e);if(r)throw r;return{user:n,data:n,error:null}}catch(e){return{user:null,data:null,error:e}}}))}generateLink(t,e,n={}){return $e(this,void 0,void 0,(function*(){try{return{data:yield ue(`${this.url}/admin/generate_link`,{type:t,email:e,password:n.password,data:n.data,redirect_to:n.redirectTo},{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}}))}}var we=function(t,e,n,r){return new(n||(n=Promise))((function(s,i){function o(t){try{c(r.next(t))}catch(e){i(e)}}function a(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((r=r.apply(t,e||[])).next())}))};!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(t){"undefined"!=typeof self&&(self.globalThis=self)}}();const Te={url:"http://localhost:9999",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:he};class xe extends class{constructor(t){this.stateChangeEmitters=new Map;const e=Object.assign(Object.assign({},Te),t);this.currentUser=null,this.currentSession=null,this.autoRefreshToken=e.autoRefreshToken,this.persistSession=e.persistSession,this.localStorage=e.localStorage||globalThis.localStorage,this.api=new _e({url:e.url,headers:e.headers,cookieOptions:e.cookieOptions}),this._recoverSession(),this._recoverAndRefresh();try{e.detectSessionInUrl&&ve()&&be("access_token")&&this.getSessionFromUrl({storeSession:!0})}catch(n){console.log("Error getting session from URL.")}}signUp({email:t,password:e,phone:n},r={}){return we(this,void 0,void 0,(function*(){try{this._removeSession();const{data:s,error:i}=n&&e?yield this.api.signUpWithPhone(n,e,{data:r.data}):yield this.api.signUpWithEmail(t,e,{redirectTo:r.redirectTo,data:r.data});if(i)throw i;if(!s)throw"An error occurred on sign up.";let o=null,a=null;return s.access_token&&(o=s,a=o.user,this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN")),s.id&&(a=s),{data:s,user:a,session:o,error:null}}catch(s){return{data:null,user:null,session:null,error:s}}}))}signIn({email:t,phone:e,password:n,refreshToken:r,provider:s},i={}){return we(this,void 0,void 0,(function*(){try{if(this._removeSession(),t&&!n){const{error:e}=yield this.api.sendMagicLinkEmail(t,{redirectTo:i.redirectTo});return{data:null,user:null,session:null,error:e}}if(t&&n)return this._handleEmailSignIn(t,n,{redirectTo:i.redirectTo});if(e&&!n){const{error:t}=yield this.api.sendMobileOTP(e);return{data:null,user:null,session:null,error:t}}if(e&&n)return this._handlePhoneSignIn(e,n);if(r){const{error:t}=yield this._callRefreshToken(r);if(t)throw t;return{data:this.currentSession,user:this.currentUser,session:this.currentSession,error:null}}if(s)return this._handleProviderSignIn(s,{redirectTo:i.redirectTo,scopes:i.scopes});throw new Error("You must provide either an email, phone number or a third-party provider.")}catch(o){return{data:null,user:null,session:null,error:o}}}))}verifyOTP({phone:t,token:e},n={}){return we(this,void 0,void 0,(function*(){try{this._removeSession();const{data:r,error:s}=yield this.api.verifyMobileOTP(t,e,n);if(s)throw s;if(!r)throw"An error occurred on token verification.";let i=null,o=null;return r.access_token&&(i=r,o=i.user,this._saveSession(i),this._notifyAllSubscribers("SIGNED_IN")),r.id&&(o=r),{data:r,user:o,session:i,error:null}}catch(r){return{data:null,user:null,session:null,error:r}}}))}user(){return this.currentUser}session(){return this.currentSession}refreshSession(){var t;return we(this,void 0,void 0,(function*(){try{if(!(null===(t=this.currentSession)||void 0===t?void 0:t.access_token))throw new Error("Not logged in.");const{error:e}=yield this._callRefreshToken();if(e)throw e;return{data:this.currentSession,user:this.currentUser,error:null}}catch(e){return{data:null,user:null,error:e}}}))}update(t){var e;return we(this,void 0,void 0,(function*(){try{if(!(null===(e=this.currentSession)||void 0===e?void 0:e.access_token))throw new Error("Not logged in.");const{user:n,error:r}=yield this.api.updateUser(this.currentSession.access_token,t);if(r)throw r;if(!n)throw Error("Invalid user data.");const s=Object.assign(Object.assign({},this.currentSession),{user:n});return this._saveSession(s),this._notifyAllSubscribers("USER_UPDATED"),{data:n,user:n,error:null}}catch(n){return{data:null,user:null,error:n}}}))}setSession(t){return we(this,void 0,void 0,(function*(){try{if(!t)throw new Error("No current session.");const{data:e,error:n}=yield this.api.refreshAccessToken(t);return n?{session:null,error:n}:e?(this._saveSession(e),this._notifyAllSubscribers("SIGNED_IN"),{session:e,error:null}):{session:null,error:{name:"Invalid refresh_token",message:"JWT token provided is Invalid"}}}catch(e){return{error:e,session:null}}}))}setAuth(t){return this.currentSession=Object.assign(Object.assign({},this.currentSession),{access_token:t,token_type:"bearer",user:null}),this.currentSession}getSessionFromUrl(t){return we(this,void 0,void 0,(function*(){try{if(!ve())throw new Error("No browser detected.");const e=be("error_description");if(e)throw new Error(e);const n=be("provider_token"),r=be("access_token");if(!r)throw new Error("No access_token detected.");const s=be("expires_in");if(!s)throw new Error("No expires_in detected.");const i=be("refresh_token");if(!i)throw new Error("No refresh_token detected.");const o=be("token_type");if(!o)throw new Error("No token_type detected.");const a=Math.round(Date.now()/1e3)+parseInt(s),{user:c,error:l}=yield this.api.getUser(r);if(l)throw l;const u={provider_token:n,access_token:r,expires_in:parseInt(s),expires_at:a,refresh_token:i,token_type:o,user:c};return(null==t?void 0:t.storeSession)&&(this._saveSession(u),this._notifyAllSubscribers("SIGNED_IN"),"recovery"===be("type")&&this._notifyAllSubscribers("PASSWORD_RECOVERY")),window.location.hash="",{data:u,error:null}}catch(e){return{data:null,error:e}}}))}signOut(){var t;return we(this,void 0,void 0,(function*(){const e=null===(t=this.currentSession)||void 0===t?void 0:t.access_token;if(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"),e){const{error:t}=yield this.api.signOut(e);if(t)return{error:t}}return{error:null}}))}onAuthStateChange(t){try{const e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})),n=this,r={id:e,callback:t,unsubscribe:()=>{n.stateChangeEmitters.delete(e)}};return this.stateChangeEmitters.set(e,r),{data:r,error:null}}catch(e){return{data:null,error:e}}}_handleEmailSignIn(t,e,n={}){var r,s;return we(this,void 0,void 0,(function*(){try{const{data:i,error:o}=yield this.api.signInWithEmail(t,e,{redirectTo:n.redirectTo});return o||!i?{data:null,user:null,session:null,error:o}:(((null===(r=null==i?void 0:i.user)||void 0===r?void 0:r.confirmed_at)||(null===(s=null==i?void 0:i.user)||void 0===s?void 0:s.email_confirmed_at))&&(this._saveSession(i),this._notifyAllSubscribers("SIGNED_IN")),{data:i,user:i.user,session:i,error:null})}catch(i){return{data:null,user:null,session:null,error:i}}}))}_handlePhoneSignIn(t,e){var n;return we(this,void 0,void 0,(function*(){try{const{data:r,error:s}=yield this.api.signInWithPhone(t,e);return s||!r?{data:null,user:null,session:null,error:s}:((null===(n=null==r?void 0:r.user)||void 0===n?void 0:n.phone_confirmed_at)&&(this._saveSession(r),this._notifyAllSubscribers("SIGNED_IN")),{data:r,user:r.user,session:r,error:null})}catch(r){return{data:null,user:null,session:null,error:r}}}))}_handleProviderSignIn(t,e={}){const n=this.api.getUrlForProvider(t,{redirectTo:e.redirectTo,scopes:e.scopes});try{return ve()&&(window.location.href=n),{provider:t,url:n,data:null,session:null,user:null,error:null}}catch(r){return n?{provider:t,url:n,data:null,session:null,user:null,error:null}:{data:null,user:null,session:null,error:r}}}_recoverSession(){var t;try{const e=ve()&&(null===(t=this.localStorage)||void 0===t?void 0:t.getItem(de));if(!e||"string"!=typeof e)return null;const n=JSON.parse(e),{currentSession:r,expiresAt:s}=n;s>=Math.round(Date.now()/1e3)&&(null==r?void 0:r.user)&&(this._saveSession(r),this._notifyAllSubscribers("SIGNED_IN"))}catch(e){console.log("error",e)}}_recoverAndRefresh(){return we(this,void 0,void 0,(function*(){try{const t=ve()&&(yield this.localStorage.getItem(de));if(!t)return null;const e=JSON.parse(t),{currentSession:n,expiresAt:r}=e;if(r<Math.round(Date.now()/1e3))if(this.autoRefreshToken&&n.refresh_token){const{error:t}=yield this._callRefreshToken(n.refresh_token);t&&(console.log(t.message),yield this._removeSession())}else this._removeSession();else n&&n.user?(this._saveSession(n),this._notifyAllSubscribers("SIGNED_IN")):(console.log("Current session is missing data."),this._removeSession())}catch(t){return console.error(t),null}}))}_callRefreshToken(t){var e;return void 0===t&&(t=null===(e=this.currentSession)||void 0===e?void 0:e.refresh_token),we(this,void 0,void 0,(function*(){try{if(!t)throw new Error("No current session.");const{data:e,error:n}=yield this.api.refreshAccessToken(t);if(n)throw n;if(!e)throw Error("Invalid session data.");return this._saveSession(e),this._notifyAllSubscribers("SIGNED_IN"),{data:e,error:null}}catch(e){return{data:null,error:e}}}))}_notifyAllSubscribers(t){this.stateChangeEmitters.forEach((e=>e.callback(t,this.currentSession)))}_saveSession(t){this.currentSession=t,this.currentUser=t.user;const e=t.expires_at;if(e){const t=e-Math.round(Date.now()/1e3),n=t>60?60:.5;this._startAutoRefreshToken(1e3*(t-n))}this.persistSession&&t.expires_at&&this._persistSession(this.currentSession)}_persistSession(t){const e={currentSession:t,expiresAt:t.expires_at};ve()&&this.localStorage.setItem(de,JSON.stringify(e))}_removeSession(){return we(this,void 0,void 0,(function*(){this.currentSession=null,this.currentUser=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),ve()&&(yield this.localStorage.removeItem(de))}))}_startAutoRefreshToken(t){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),t<=0||!this.autoRefreshToken||(this.refreshTokenTimer=setTimeout((()=>this._callRefreshToken()),t),"function"==typeof this.refreshTokenTimer.unref&&this.refreshTokenTimer.unref())}}{constructor(t){super(t)}}var Ee=function(t,e,n,r){return new(n||(n=Promise))((function(s,i){function o(t){try{c(r.next(t))}catch(e){i(e)}}function a(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((r=r.apply(t,e||[])).next())}))};class Se{constructor(t){Object.assign(this,t)}throwOnError(){return this.shouldThrowOnError=!0,this}then(t,e){return void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json"),oe(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body)}).then((t=>Ee(this,void 0,void 0,(function*(){var e,n,r;let s=null,i=null,o=null;if(t.ok){const s=null===(e=this.headers.Prefer)||void 0===e?void 0:e.split(",").includes("return=minimal");if("HEAD"!==this.method&&!s){const e=yield t.text();e&&(i="text/csv"===this.headers.Accept?e:JSON.parse(e))}const a=null===(n=this.headers.Prefer)||void 0===n?void 0:n.match(/count=(exact|planned|estimated)/),c=null===(r=t.headers.get("content-range"))||void 0===r?void 0:r.split("/");a&&c&&c.length>1&&(o=parseInt(c[1]))}else if(s=yield t.json(),s&&this.shouldThrowOnError)throw s;return{error:s,data:i,count:o,status:t.status,statusText:t.statusText,body:i}})))).then(t,e)}}class ke extends Se{select(t="*"){let e=!1;const n=t.split("").map((t=>/\s/.test(t)&&!e?"":('"'===t&&(e=!e),t))).join("");return this.url.searchParams.set("select",n),this}order(t,{ascending:e=!0,nullsFirst:n=!1,foreignTable:r}={}){const s=void 0===r?"order":`${r}.order`,i=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${i?`${i},`:""}${t}.${e?"asc":"desc"}.${n?"nullsfirst":"nullslast"}`),this}limit(t,{foreignTable:e}={}){const n=void 0===e?"limit":`${e}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:n}={}){const r=void 0===n?"offset":`${n}.offset`,s=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this.url.searchParams.set(s,""+(e-t+1)),this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){this.headers.Accept="application/vnd.pgrst.object+json";const t=new ke(this);return t.then=(t,e)=>this.then((e=>{var n,r;return(null===(r=null===(n=e.error)||void 0===n?void 0:n.details)||void 0===r?void 0:r.includes("Results contain 0 rows"))?t({error:null,data:null,count:e.count,status:200,statusText:"OK",body:null}):t(e)}),e),t}csv(){return this.headers.Accept="text/csv",this}}class Oe extends ke{constructor(){super(...arguments),this.cs=this.contains,this.cd=this.containedBy,this.sl=this.rangeLt,this.sr=this.rangeGt,this.nxl=this.rangeGte,this.nxr=this.rangeLte,this.adj=this.rangeAdjacent,this.ov=this.overlaps}not(t,e,n){return this.url.searchParams.append(`${t}`,`not.${e}.${n}`),this}or(t,{foreignTable:e}={}){const n=void 0===e?"or":`${e}.or`;return this.url.searchParams.append(n,`(${t})`),this}eq(t,e){return this.url.searchParams.append(`${t}`,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(`${t}`,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(`${t}`,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(`${t}`,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(`${t}`,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(`${t}`,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(`${t}`,`like.${e}`),this}ilike(t,e){return this.url.searchParams.append(`${t}`,`ilike.${e}`),this}is(t,e){return this.url.searchParams.append(`${t}`,`is.${e}`),this}in(t,e){const n=e.map((t=>"string"==typeof t&&new RegExp("[,()]").test(t)?`"${t}"`:`${t}`)).join(",");return this.url.searchParams.append(`${t}`,`in.(${n})`),this}contains(t,e){return"string"==typeof e?this.url.searchParams.append(`${t}`,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(`${t}`,`cs.{${e.join(",")}}`):this.url.searchParams.append(`${t}`,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return"string"==typeof e?this.url.searchParams.append(`${t}`,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(`${t}`,`cd.{${e.join(",")}}`):this.url.searchParams.append(`${t}`,`cd.${JSON.stringify(e)}`),this}rangeLt(t,e){return this.url.searchParams.append(`${t}`,`sl.${e}`),this}rangeGt(t,e){return this.url.searchParams.append(`${t}`,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(`${t}`,`nxl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(`${t}`,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(`${t}`,`adj.${e}`),this}overlaps(t,e){return"string"==typeof e?this.url.searchParams.append(`${t}`,`ov.${e}`):this.url.searchParams.append(`${t}`,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r=null}={}){let s="";"plain"===r?s="pl":"phrase"===r?s="ph":"websearch"===r&&(s="w");const i=void 0===n?"":`(${n})`;return this.url.searchParams.append(`${t}`,`${s}fts${i}.${e}`),this}fts(t,e,{config:n}={}){const r=void 0===n?"":`(${n})`;return this.url.searchParams.append(`${t}`,`fts${r}.${e}`),this}plfts(t,e,{config:n}={}){const r=void 0===n?"":`(${n})`;return this.url.searchParams.append(`${t}`,`plfts${r}.${e}`),this}phfts(t,e,{config:n}={}){const r=void 0===n?"":`(${n})`;return this.url.searchParams.append(`${t}`,`phfts${r}.${e}`),this}wfts(t,e,{config:n}={}){const r=void 0===n?"":`(${n})`;return this.url.searchParams.append(`${t}`,`wfts${r}.${e}`),this}filter(t,e,n){return this.url.searchParams.append(`${t}`,`${e}.${n}`),this}match(t){return Object.keys(t).forEach((e=>{this.url.searchParams.append(`${e}`,`eq.${t[e]}`)})),this}}class je extends Se{constructor(t,{headers:e={},schema:n}={}){super({}),this.url=new URL(t),this.headers=Object.assign({},e),this.schema=n}select(t="*",{head:e=!1,count:n=null}={}){this.method="GET";let r=!1;const s=t.split("").map((t=>/\s/.test(t)&&!r?"":('"'===t&&(r=!r),t))).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),e&&(this.method="HEAD"),new Oe(this)}insert(t,{upsert:e=!1,onConflict:n,returning:r="representation",count:s=null}={}){this.method="POST";const i=[`return=${r}`];if(e&&i.push("resolution=merge-duplicates"),e&&void 0!==n&&this.url.searchParams.set("on_conflict",n),this.body=t,s&&i.push(`count=${s}`),this.headers.Prefer=i.join(","),Array.isArray(t)){const e=t.reduce(((t,e)=>t.concat(Object.keys(e))),[]);if(e.length>0){const t=[...new Set(e)].map((t=>`"${t}"`));this.url.searchParams.set("columns",t.join(","))}}return new Oe(this)}upsert(t,{onConflict:e,returning:n="representation",count:r=null,ignoreDuplicates:s=!1}={}){this.method="POST";const i=[`resolution=${s?"ignore":"merge"}-duplicates`,`return=${n}`];return void 0!==e&&this.url.searchParams.set("on_conflict",e),this.body=t,r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new Oe(this)}update(t,{returning:e="representation",count:n=null}={}){this.method="PATCH";const r=[`return=${e}`];return this.body=t,n&&r.push(`count=${n}`),this.headers.Prefer=r.join(","),new Oe(this)}delete({returning:t="representation",count:e=null}={}){this.method="DELETE";const n=[`return=${t}`];return e&&n.push(`count=${e}`),this.headers.Prefer=n.join(","),new Oe(this)}}class Pe extends Se{constructor(t,{headers:e={},schema:n}={}){super({}),this.url=new URL(t),this.headers=Object.assign({},e),this.schema=n}rpc(t,{count:e=null}={}){return this.method="POST",this.body=t,e&&(void 0!==this.headers.Prefer?this.headers.Prefer+=`,count=${e}`:this.headers.Prefer=`count=${e}`),new Oe(this)}}const Ce={"X-Client-Info":"postgrest-js/0.33.3"};class Ae{constructor(t,{headers:e={},schema:n}={}){this.url=t,this.headers=Object.assign(Object.assign({},Ce),e),this.schema=n}auth(t){return this.headers.Authorization=`Bearer ${t}`,this}from(t){const e=`${this.url}/${t}`;return new je(e,{headers:this.headers,schema:this.schema})}rpc(t,e,{count:n=null}={}){const r=`${this.url}/rpc/${t}`;return new Pe(r,{headers:this.headers,schema:this.schema}).rpc(e,{count:n})}}var Re,Ie;(Ie=Re||(Re={})).abstime="abstime",Ie.bool="bool",Ie.date="date",Ie.daterange="daterange",Ie.float4="float4",Ie.float8="float8",Ie.int2="int2",Ie.int4="int4",Ie.int4range="int4range",Ie.int8="int8",Ie.int8range="int8range",Ie.json="json",Ie.jsonb="jsonb",Ie.money="money",Ie.numeric="numeric",Ie.oid="oid",Ie.reltime="reltime",Ie.time="time",Ie.timestamp="timestamp",Ie.timestamptz="timestamptz",Ie.timetz="timetz",Ie.tsrange="tsrange",Ie.tstzrange="tstzrange";const De=(t,e,n={})=>{let r={},s=void 0!==n.skipTypes?n.skipTypes:[];return Object.entries(e).map((([n,i])=>{r[n]=Me(n,t,e,s)})),r},Me=(t,e,n,r)=>{let s=e.find((e=>e.name==t));return!s||r.includes(s.type)?Ue(n[t]):Ne(s.type,n[t])},Ne=(t,e)=>{try{if(null===e)return null;if("_"===t.charAt(0)){let n=t.slice(1,t.length);return qe(e,n)}switch(t){case Re.abstime:return Ue(e);case Re.bool:return Be(e);case Re.date:return Ue(e);case Re.daterange:return Le(e);case Re.float4:case Re.float8:return He(e);case Re.int2:case Re.int4:return Fe(e);case Re.int4range:return Ge(e);case Re.int8:return Fe(e);case Re.int8range:return Ge(e);case Re.json:case Re.jsonb:return We(e);case Re.money:case Re.numeric:return He(e);case Re.oid:return Fe(e);case Re.reltime:case Re.time:return Ue(e);case Re.timestamp:return Je(e);case Re.timestamptz:case Re.timetz:return Ue(e);case Re.tsrange:case Re.tstzrange:return Le(e);default:return Ue(e)}}catch(n){return console.log(`Could not convert cell of type ${t} and value ${e}`),console.log(`This is the error: ${n}`),e}},Ue=t=>t,Be=t=>{switch(t){case"t":return!0;case"f":return!1;default:return null}},Le=t=>{let e=JSON.parse(t);return[new Date(e[0]),new Date(e[1])]},He=t=>parseFloat(t),Fe=t=>parseInt(t),Ge=t=>{let e=JSON.parse(t);return[parseInt(e[0]),parseInt(e[1])]},We=t=>JSON.parse(t),qe=(t,e)=>{let n=t.slice(1,t.length-1);return(n.length>0?n.split(","):[]).map((t=>Ne(e,t)))},Je=t=>t.replace(" ","T"),ze={"X-Client-Info":"realtime-js/1.1.3"};var Ve,Ye,Ke,Xe,Ze,Qe,tn;(Ye=Ve||(Ve={}))[Ye.connecting=0]="connecting",Ye[Ye.open=1]="open",Ye[Ye.closing=2]="closing",Ye[Ye.closed=3]="closed",(Xe=Ke||(Ke={})).closed="closed",Xe.errored="errored",Xe.joined="joined",Xe.joining="joining",Xe.leaving="leaving",(Qe=Ze||(Ze={})).close="phx_close",Qe.error="phx_error",Qe.join="phx_join",Qe.reply="phx_reply",Qe.leave="phx_leave",(tn||(tn={})).websocket="websocket";class en{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}class nn{constructor(t,e,n={},r=1e4){this.channel=t,this.event=e,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref}))}receive(t,e){var n;return this._hasReceived(t)&&e(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,(t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout))}trigger(t,e){this.refEvent&&this.channel.trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel.off(this.refEvent)}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter((e=>e.status===t)).forEach((t=>t.callback(e)))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}class rn{constructor(t,e={},n){this.topic=t,this.params=e,this.socket=n,this.bindings=[],this.state=Ke.closed,this.joinedOnce=!1,this.pushBuffer=[],this.timeout=this.socket.timeout,this.joinPush=new nn(this,Ze.join,this.params,this.timeout),this.rejoinTimer=new en((()=>this.rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=Ke.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((t=>t.send())),this.pushBuffer=[]})),this.onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=Ke.closed,this.socket.remove(this)})),this.onError((t=>{this.isLeaving()||this.isClosed()||(this.socket.log("channel",`error ${this.topic}`,t),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this.isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())})),this.on(Ze.reply,((t,e)=>{this.trigger(this.replyEventName(e),t)}))}rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}subscribe(t=this.timeout){if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";return this.joinedOnce=!0,this.rejoin(t),this.joinPush}onClose(t){this.on(Ze.close,t)}onError(t){this.on(Ze.error,(e=>t(e)))}on(t,e){this.bindings.push({event:t,callback:e})}off(t){this.bindings=this.bindings.filter((e=>e.event!==t))}canPush(){return this.socket.isConnected()&&this.isJoined()}push(t,e,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new nn(this,t,e,n);return this.canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}unsubscribe(t=this.timeout){this.state=Ke.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this.trigger(Ze.close,"leave",this.joinRef())};this.joinPush.destroy();let n=new nn(this,Ze.leave,{},t);return n.receive("ok",(()=>e())).receive("timeout",(()=>e())),n.send(),this.canPush()||n.trigger("ok",{}),n}onMessage(t,e,n){return e}isMember(t){return this.topic===t}joinRef(){return this.joinPush.ref}sendJoin(t){this.state=Ke.joining,this.joinPush.resend(t)}rejoin(t=this.timeout){this.isLeaving()||this.sendJoin(t)}trigger(t,e,n){let{close:r,error:s,leave:i,join:o}=Ze;if(n&&[r,s,i,o].indexOf(t)>=0&&n!==this.joinRef())return;let a=this.onMessage(t,e,n);if(e&&!a)throw"channel onMessage callbacks must return the payload, modified or unmodified";this.bindings.filter((n=>"*"===n.event?t===(null==e?void 0:e.type):n.event===t)).map((t=>t.callback(a,n)))}replyEventName(t){return`chan_reply_${t}`}isClosed(){return this.state===Ke.closed}isErrored(){return this.state===Ke.errored}isJoined(){return this.state===Ke.joined}isJoining(){return this.state===Ke.joining}isLeaving(){return this.state===Ke.leaving}}var sn=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")},on=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(t){return sn()}try{return __global__||sn()}finally{delete Object.prototype.__global__}}();var an,cn="1.0.34";if("object"==typeof globalThis)an=globalThis;else try{an=on}catch($r){}finally{if(an||"undefined"==typeof window||(an=window),!an)throw new Error("Could not determine global this")}var ln=an.WebSocket||an.MozWebSocket,un=cn;function hn(t,e){return e?new ln(t,e):new ln(t)}ln&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(t){Object.defineProperty(hn,t,{get:function(){return ln[t]}})}));var dn={w3cwebsocket:ln?hn:null,version:un};class fn{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e("string"==typeof t?JSON.parse(t):{})}_binaryDecode(t){const e=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,e,n)}_decodeBroadcast(t,e,n){const r=e.getUint8(1),s=e.getUint8(2);let i=this.HEADER_LENGTH+2;const o=n.decode(t.slice(i,i+r));i+=r;const a=n.decode(t.slice(i,i+s));i+=s;return{ref:null,topic:o,event:a,payload:JSON.parse(n.decode(t.slice(i,t.byteLength)))}}}var pn=function(t,e,n,r){return new(n||(n=Promise))((function(s,i){function o(t){try{c(r.next(t))}catch(e){i(e)}}function a(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((r=r.apply(t,e||[])).next())}))};const mn=()=>{};class gn{constructor(t,e){this.channels=[],this.endPoint="",this.headers=ze,this.params={},this.timeout=1e4,this.transport=dn.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.longpollerTimeout=2e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=mn,this.conn=null,this.sendBuffer=[],this.serializer=new fn,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.endPoint=`${t}/${tn.websocket}`,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),(null==e?void 0:e.timeout)&&(this.timeout=e.timeout),(null==e?void 0:e.logger)&&(this.logger=e.logger),(null==e?void 0:e.transport)&&(this.transport=e.transport),(null==e?void 0:e.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs),(null==e?void 0:e.longpollerTimeout)&&(this.longpollerTimeout=e.longpollerTimeout),this.reconnectAfterMs=(null==e?void 0:e.reconnectAfterMs)?e.reconnectAfterMs:t=>[1e3,2e3,5e3,1e4][t-1]||1e4,this.encode=(null==e?void 0:e.encode)?e.encode:(t,e)=>e(JSON.stringify(t)),this.decode=(null==e?void 0:e.decode)?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new en((()=>pn(this,void 0,void 0,(function*(){yield this.disconnect(),this.connect()}))),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this.endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this.onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t)))}disconnect(t,e){return new Promise(((n,r)=>{try{this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,e||""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset()),n({error:null,data:!0})}catch($r){n({error:$r,data:!1})}}))}log(t,e,n){this.logger(t,e,n)}onOpen(t){this.stateChangeCallbacks.open.push(t)}onClose(t){this.stateChangeCallbacks.close.push(t)}onError(t){this.stateChangeCallbacks.error.push(t)}onMessage(t){this.stateChangeCallbacks.message.push(t)}connectionState(){switch(this.conn&&this.conn.readyState){case Ve.connecting:return"connecting";case Ve.open:return"open";case Ve.closing:return"closing";default:return"closed"}}isConnected(){return"open"===this.connectionState()}remove(t){this.channels=this.channels.filter((e=>e.joinRef()!==t.joinRef()))}channel(t,e={}){let n=new rn(t,e,this);return this.channels.push(n),n}push(t){let{topic:e,event:n,payload:r,ref:s}=t,i=()=>{this.encode(t,(t=>{var e;null===(e=this.conn)||void 0===e||e.send(t)}))};this.log("push",`${e} ${n} (${s})`,r),this.isConnected()?i():this.sendBuffer.push(i)}onConnMessage(t){this.decode(t.data,(t=>{let{topic:e,event:n,payload:r,ref:s}=t;s&&s===this.pendingHeartbeatRef?this.pendingHeartbeatRef=null:n===(null==r?void 0:r.type)&&this._resetHeartbeat(),this.log("receive",`${r.status||""} ${e} ${n} ${s&&"("+s+")"||""}`,r),this.channels.filter((t=>t.isMember(e))).forEach((t=>t.trigger(n,r,s))),this.stateChangeCallbacks.message.forEach((e=>e(t)))}))}endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_onConnOpen(){this.log("transport",`connected to ${this.endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this._resetHeartbeat(),this.stateChangeCallbacks.open.forEach((t=>t()))}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((e=>e(t)))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((e=>e(t)))}_triggerChanError(){this.channels.forEach((t=>t.trigger(Ze.error)))}_appendParams(t,e){if(0===Object.keys(e).length)return t;const n=t.match(/\?/)?"&":"?";return`${t}${n}${new URLSearchParams(e)}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((t=>t())),this.sendBuffer=[])}_resetHeartbeat(){this.pendingHeartbeatRef=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this._sendHeartbeat()),this.heartbeatIntervalMs)}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(t=this.conn)||void 0===t||t.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef})}}}class yn{constructor(t,e,n){const r="*"===n?`realtime:${e}`:`realtime:${e}:${n}`;this.subscription=t.channel(r)}getPayloadRecords(t){const e={new:{},old:{}};return"INSERT"!==t.type&&"UPDATE"!==t.type||(e.new=De(t.columns,t.record)),"UPDATE"!==t.type&&"DELETE"!==t.type||(e.old=De(t.columns,t.old_record)),e}on(t,e){return this.subscription.on(t,(t=>{let n={schema:t.schema,table:t.table,commit_timestamp:t.commit_timestamp,eventType:t.type,new:{},old:{}};n=Object.assign(Object.assign({},n),this.getPayloadRecords(t)),e(n)})),this}subscribe(t=(()=>{})){return this.subscription.onError((e=>t("SUBSCRIPTION_ERROR",e))),this.subscription.onClose((()=>t("CLOSED"))),this.subscription.subscribe().receive("ok",(()=>t("SUBSCRIBED"))).receive("error",(e=>t("SUBSCRIPTION_ERROR",e))).receive("timeout",(()=>t("RETRYING_AFTER_TIMEOUT"))),this.subscription}}class vn extends je{constructor(t,{headers:e={},schema:n,realtime:r,table:s}){super(t,{headers:e,schema:n}),this._subscription=new yn(r,n,s),this._realtime=r}on(t,e){return this._realtime.isConnected()||this._realtime.connect(),this._subscription.on(t,e)}}var bn=function(t,e,n,r){return new(n||(n=Promise))((function(s,i){function o(t){try{c(r.next(t))}catch(e){i(e)}}function a(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((r=r.apply(t,e||[])).next())}))};const $n=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t);function _n(t,e,n,r,s){return bn(this,void 0,void 0,(function*(){return new Promise(((i,o)=>{oe(e,((t,e,n,r)=>{const s={method:t,headers:(null==e?void 0:e.headers)||{}};return"GET"===t?s:(s.headers=Object.assign({"Content-Type":"application/json"},null==e?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))})(t,n,r,s)).then((t=>{if(!t.ok)throw t;return(null==n?void 0:n.noResolveJson)?i(t):t.json()})).then((t=>i(t))).catch((t=>((t,e)=>{if("function"!=typeof t.json)return e(t);t.json().then((n=>e({message:$n(n),status:(null==t?void 0:t.status)||500})))})(t,o)))}))}))}function wn(t,e,n){return bn(this,void 0,void 0,(function*(){return _n("GET",t,e,n)}))}function Tn(t,e,n,r){return bn(this,void 0,void 0,(function*(){return _n("POST",t,n,r,e)}))}function xn(t,e,n,r){return bn(this,void 0,void 0,(function*(){return _n("DELETE",t,n,r,e)}))}const En={"X-Client-Info":"storage-js/0.0.0"};var Sn=function(t,e,n,r){return new(n||(n=Promise))((function(s,i){function o(t){try{c(r.next(t))}catch(e){i(e)}}function a(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((r=r.apply(t,e||[])).next())}))};var kn=function(t,e,n,r){return new(n||(n=Promise))((function(s,i){function o(t){try{c(r.next(t))}catch(e){i(e)}}function a(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((r=r.apply(t,e||[])).next())}))};const On={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Pn{constructor(t,e={},n){this.url=t,this.headers=e,this.bucketId=n}uploadOrUpdate(t,e,n,r){return kn(this,void 0,void 0,(function*(){try{let s;const i=Object.assign(Object.assign({},jn),r),o=Object.assign(Object.assign({},this.headers),"POST"===t&&{"x-upsert":String(i.upsert)});"undefined"!=typeof Blob&&n instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),s.append("",n)):"undefined"!=typeof FormData&&n instanceof FormData?(s=n,s.append("cacheControl",i.cacheControl)):(s=n,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType);const a=this._getFinalPath(e),c=yield oe(`${this.url}/object/${a}`,{method:t,body:s,headers:o});if(c.ok)return{data:{Key:a},error:null};return{data:null,error:yield c.json()}}catch($r){return{data:null,error:$r}}}))}upload(t,e,n){return kn(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",t,e,n)}))}update(t,e,n){return kn(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",t,e,n)}))}move(t,e){return kn(this,void 0,void 0,(function*(){try{return{data:yield Tn(`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e},{headers:this.headers}),error:null}}catch($r){return{data:null,error:$r}}}))}createSignedUrl(t,e){return kn(this,void 0,void 0,(function*(){try{const n=this._getFinalPath(t);let r=yield Tn(`${this.url}/object/sign/${n}`,{expiresIn:e},{headers:this.headers});const s=`${this.url}${r.signedURL}`;return r={signedURL:s},{data:r,error:null,signedURL:s}}catch($r){return{data:null,error:$r,signedURL:null}}}))}download(t){return kn(this,void 0,void 0,(function*(){try{const e=this._getFinalPath(t),n=yield wn(`${this.url}/object/${e}`,{headers:this.headers,noResolveJson:!0});return{data:yield n.blob(),error:null}}catch($r){return{data:null,error:$r}}}))}getPublicUrl(t){try{const e=this._getFinalPath(t),n=`${this.url}/object/public/${e}`;return{data:{publicURL:n},error:null,publicURL:n}}catch($r){return{data:null,error:$r,publicURL:null}}}remove(t){return kn(this,void 0,void 0,(function*(){try{return{data:yield xn(`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch($r){return{data:null,error:$r}}}))}list(t,e,n){return kn(this,void 0,void 0,(function*(){try{const r=Object.assign(Object.assign(Object.assign({},On),e),{prefix:t||""});return{data:yield Tn(`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch($r){return{data:null,error:$r}}}))}_getFinalPath(t){return`${this.bucketId}/${t}`}}class Cn extends class{constructor(t,e={}){this.url=t,this.headers=Object.assign(Object.assign({},En),e)}listBuckets(){return Sn(this,void 0,void 0,(function*(){try{return{data:yield wn(`${this.url}/bucket`,{headers:this.headers}),error:null}}catch($r){return{data:null,error:$r}}}))}getBucket(t){return Sn(this,void 0,void 0,(function*(){try{return{data:yield wn(`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch($r){return{data:null,error:$r}}}))}createBucket(t,e={public:!1}){return Sn(this,void 0,void 0,(function*(){try{return{data:(yield Tn(`${this.url}/bucket`,{id:t,name:t,public:e.public},{headers:this.headers})).name,error:null}}catch($r){return{data:null,error:$r}}}))}updateBucket(t,e){return Sn(this,void 0,void 0,(function*(){try{return{data:yield function(t,e,n,r){return bn(this,void 0,void 0,(function*(){return _n("PUT",t,n,r,e)}))}(`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public},{headers:this.headers}),error:null}}catch($r){return{data:null,error:$r}}}))}emptyBucket(t){return Sn(this,void 0,void 0,(function*(){try{return{data:yield Tn(`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch($r){return{data:null,error:$r}}}))}deleteBucket(t){return Sn(this,void 0,void 0,(function*(){try{return{data:yield xn(`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch($r){return{data:null,error:$r}}}))}}{constructor(t,e={}){super(t,e)}from(t){return new Pn(this.url,this.headers,t)}}var An=function(t,e,n,r){return new(n||(n=Promise))((function(s,i){function o(t){try{c(r.next(t))}catch(e){i(e)}}function a(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((r=r.apply(t,e||[])).next())}))};const Rn={schema:"public",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ne};class In{constructor(t,e,n){if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");const r=Object.assign(Object.assign({},Rn),n);this.restUrl=`${t}/rest/v1`,this.realtimeUrl=`${t}/realtime/v1`.replace("http","ws"),this.authUrl=`${t}/auth/v1`,this.storageUrl=`${t}/storage/v1`,this.schema=r.schema,this.auth=this._initSupabaseAuthClient(r),this.realtime=this._initRealtimeClient(r.realtime)}get storage(){return new Cn(this.storageUrl,this._getAuthHeaders())}from(t){const e=`${this.restUrl}/${t}`;return new vn(e,{headers:this._getAuthHeaders(),schema:this.schema,realtime:this.realtime,table:t})}rpc(t,e,{count:n=null}={}){return this._initPostgRESTClient().rpc(t,e,{count:n})}removeSubscription(t){return new Promise((e=>An(this,void 0,void 0,(function*(){try{yield this._closeSubscription(t);const n=this.getSubscriptions().length;if(!n){const{error:t}=yield this.realtime.disconnect();if(t)return e({error:t})}return e({error:null,data:{openSubscriptions:n}})}catch($r){return e({error:$r})}}))))}_closeSubscription(t){return An(this,void 0,void 0,(function*(){t.isClosed()||(yield this._closeChannel(t))}))}getSubscriptions(){return this.realtime.channels}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,localStorage:r,headers:s}){const i={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xe({url:this.authUrl,headers:Object.assign(Object.assign({},s),i),autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,localStorage:r})}_initRealtimeClient(t){return new gn(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign(Object.assign({},null==t?void 0:t.params),{apikey:this.supabaseKey})}))}_initPostgRESTClient(){return new Ae(this.restUrl,{headers:this._getAuthHeaders(),schema:this.schema})}_getAuthHeaders(){var t,e;const n=ne,r=null!==(e=null===(t=this.auth.session())||void 0===t?void 0:t.access_token)&&void 0!==e?e:this.supabaseKey;return n.apikey=this.supabaseKey,n.Authorization=`Bearer ${r}`,n}_closeChannel(t){return new Promise(((e,n)=>{t.unsubscribe().receive("ok",(()=>(this.realtime.remove(t),e(!0)))).receive("error",(t=>n(t)))}))}}const Dn=(t,e,n)=>new In(t,e,n);function Mn(t,e,n){const r=t.slice();return r[5]=e[n],r[7]=n,r}function Nn(t){let e,n,r;const s=t[4].default,i=$(s,t,t[3],null);return{c(){e=L("div"),i&&i.c(),n=F(),this.h()},l(t){e=Y(t,"DIV",{class:!0,style:!0});var r=J(e);i&&i.l(r),n=X(r),r.forEach(U),this.h()},h(){q(e,"class","text svelte-1ymq3wt"),et(e,"animation-duration",t[0]+"s")},m(t,s){N(t,e,s),i&&i.m(e,null),D(e,n),r=!0},p(t,n){i&&i.p&&(!r||8&n)&&T(i,s,t,t[3],r?w(s,t[3],n,null):x(t[3]),null),(!r||1&n)&&et(e,"animation-duration",t[0]+"s")},i(t){r||(Nt(i,t),r=!0)},o(t){Ut(i,t),r=!1},d(t){t&&U(e),i&&i.d(t)}}}function Un(t){let e,n,r,s=Array(t[1]),i=[];for(let a=0;a<s.length;a+=1)i[a]=Nn(Mn(t,s,a));const o=t=>Ut(i[t],1,1,(()=>{i[t]=null}));return{c(){e=L("div"),n=L("div");for(let t=0;t<i.length;t+=1)i[t].c();this.h()},l(t){e=Y(t,"DIV",{style:!0});var r=J(e);n=Y(r,"DIV",{class:!0});var s=J(n);for(let e=0;e<i.length;e+=1)i[e].l(s);s.forEach(U),r.forEach(U),this.h()},h(){q(n,"class","content svelte-1ymq3wt"),nt(n,"paused",!0===t[2]),et(e,"overflow","hidden")},m(t,s){N(t,e,s),D(e,n);for(let e=0;e<i.length;e+=1)i[e].m(n,null);r=!0},p(t,[e]){if(11&e){let r;for(s=Array(t[1]),r=0;r<s.length;r+=1){const o=Mn(t,s,r);i[r]?(i[r].p(o,e),Nt(i[r],1)):(i[r]=Nn(o),i[r].c(),Nt(i[r],1),i[r].m(n,null))}for(Dt(),r=s.length;r<i.length;r+=1)o(r);Mt()}4&e&&nt(n,"paused",!0===t[2])},i(t){if(!r){for(let t=0;t<s.length;t+=1)Nt(i[t]);r=!0}},o(t){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)Ut(i[e]);r=!1},d(t){t&&U(e),B(i,t)}}}function Bn(t,e,n){let{$$slots:r={},$$scope:s}=e,{duration:i=15}=e,{repeat:o=2}=e,{paused:a=!1}=e;return t.$$set=t=>{"duration"in t&&n(0,i=t.duration),"repeat"in t&&n(1,o=t.repeat),"paused"in t&&n(2,a=t.paused),"$$scope"in t&&n(3,s=t.$$scope)},[i,o,a,s,r]}class Ln extends Qt{constructor(t){super(),Zt(this,t,Bn,Un,g,{duration:0,repeat:1,paused:2})}}function Hn(t){const e=t-1;return e*e*e+1}function Fn(t){return--t*t*t*t*t+1}function Gn(t,{delay:e=0,duration:n=400,easing:r=u}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:t=>"opacity: "+t*s}}function Wn(t,{delay:e=0,duration:n=400,easing:r=Hn,x:s=0,y:i=0,opacity:o=0}={}){const a=getComputedStyle(t),c=+a.opacity,l="none"===a.transform?"":a.transform,u=c*(1-o);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${l} translate(${(1-t)*s}px, ${(1-t)*i}px);\n\t\t\topacity: ${c-u*e}`}}function qn(t,{delay:e=0,duration:n=400,easing:r=Hn}={}){const s=getComputedStyle(t),i=+s.opacity,o=parseFloat(s.height),a=parseFloat(s.paddingTop),c=parseFloat(s.paddingBottom),l=parseFloat(s.marginTop),u=parseFloat(s.marginBottom),h=parseFloat(s.borderTopWidth),d=parseFloat(s.borderBottomWidth);return{delay:e,duration:n,easing:r,css:t=>`overflow: hidden;opacity: ${Math.min(20*t,1)*i};height: ${t*o}px;padding-top: ${t*a}px;padding-bottom: ${t*c}px;margin-top: ${t*l}px;margin-bottom: ${t*u}px;border-top-width: ${t*h}px;border-bottom-width: ${t*d}px;`}}const Jn=t=>({intersecting:2&t,entry:1&t,observer:4&t}),zn=t=>({intersecting:t[1],entry:t[0],observer:t[2]});function Vn(t){let e;const n=t[9].default,r=$(n,t,t[8],zn);return{c(){r&&r.c()},l(t){r&&r.l(t)},m(t,n){r&&r.m(t,n),e=!0},p(t,[s]){r&&r.p&&(!e||263&s)&&T(r,n,t,t[8],e?w(n,t[8],s,Jn):x(t[8]),zn)},i(t){e||(Nt(r,t),e=!0)},o(t){Ut(r,t),e=!1},d(t){r&&r.d(t)}}}function Yn(t,e,n){let{$$slots:r={},$$scope:s}=e,{element:i=null}=e,{once:o=!1}=e,{root:a=null}=e,{rootMargin:c="0px"}=e,{threshold:l=0}=e,{entry:u=null}=e,{intersecting:h=!1}=e,{observer:d=null}=e;const f=function(){const t=ft();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const s=rt(e,n);r.slice().forEach((e=>{e.call(t,s)}))}}}();let p=null,m=null;const g=()=>{n(2,d=new IntersectionObserver((t=>{t.forEach((t=>{n(0,u=t),n(1,h=t.isIntersecting)}))}),{root:a,rootMargin:c,threshold:l}))};return pt((()=>(g(),()=>{d&&d.disconnect()}))),mt((async()=>{null!==u&&(f("observe",u),u.isIntersecting&&(f("intersect",u),o&&d.unobserve(i))),await(Tt(),_t),null!==i&&i!==m&&(d.observe(i),null!==m&&d.unobserve(m),m=i),p&&c!==p&&(d.disconnect(),m=null,g()),p=c})),t.$$set=t=>{"element"in t&&n(3,i=t.element),"once"in t&&n(4,o=t.once),"root"in t&&n(5,a=t.root),"rootMargin"in t&&n(6,c=t.rootMargin),"threshold"in t&&n(7,l=t.threshold),"entry"in t&&n(0,u=t.entry),"intersecting"in t&&n(1,h=t.intersecting),"observer"in t&&n(2,d=t.observer),"$$scope"in t&&n(8,s=t.$$scope)},[u,h,d,i,o,a,c,l,s,r]}class Kn extends Qt{constructor(t){super(),Zt(this,t,Yn,Vn,g,{element:3,once:4,root:5,rootMargin:6,threshold:7,entry:0,intersecting:1,observer:2})}}var Xn,Zn,Qn,tr={exports:{}},er=tr.exports=function(){var t=1e3,e=6e4,n=36e5,r="millisecond",s="second",i="minute",o="hour",a="day",c="week",l="month",u="quarter",h="year",d="date",f="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},y=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},v={s:y,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),s=n%60;return(e<=0?"+":"-")+y(r,2,"0")+":"+y(s,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),s=e.clone().add(r,l),i=n-s<0,o=e.clone().add(r+(i?-1:1),l);return+(-(r+(n-s)/(i?s-o:o-s))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:l,y:h,w:c,d:a,D:d,h:o,m:i,s:s,ms:r,Q:u}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},b="en",$={};$[b]=g;var _=function(t){return t instanceof E},w=function(t,e,n){var r;if(!t)return b;if("string"==typeof t)$[t]&&(r=t),e&&($[t]=e,r=t);else{var s=t.name;$[s]=t,r=s}return!n&&r&&(b=r),r||!n&&b},T=function(t,e){if(_(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new E(n)},x=v;x.l=w,x.i=_,x.w=function(t,e){return T(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var E=function(){function g(t){this.$L=w(t.locale,null,!0),this.parse(t)}var y=g.prototype;return y.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(x.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(p);if(r){var s=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},y.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},y.$utils=function(){return x},y.isValid=function(){return!(this.$d.toString()===f)},y.isSame=function(t,e){var n=T(t);return this.startOf(e)<=n&&n<=this.endOf(e)},y.isAfter=function(t,e){return T(t)<this.startOf(e)},y.isBefore=function(t,e){return this.endOf(e)<T(t)},y.$g=function(t,e,n){return x.u(t)?this[e]:this.set(n,t)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(t,e){var n=this,r=!!x.u(e)||e,u=x.p(t),f=function(t,e){var s=x.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?s:s.endOf(a)},p=function(t,e){return x.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},m=this.$W,g=this.$M,y=this.$D,v="set"+(this.$u?"UTC":"");switch(u){case h:return r?f(1,0):f(31,11);case l:return r?f(1,g):f(0,g+1);case c:var b=this.$locale().weekStart||0,$=(m<b?m+7:m)-b;return f(r?y-$:y+(6-$),g);case a:case d:return p(v+"Hours",0);case o:return p(v+"Minutes",1);case i:return p(v+"Seconds",2);case s:return p(v+"Milliseconds",3);default:return this.clone()}},y.endOf=function(t){return this.startOf(t,!1)},y.$set=function(t,e){var n,c=x.p(t),u="set"+(this.$u?"UTC":""),f=(n={},n[a]=u+"Date",n[d]=u+"Date",n[l]=u+"Month",n[h]=u+"FullYear",n[o]=u+"Hours",n[i]=u+"Minutes",n[s]=u+"Seconds",n[r]=u+"Milliseconds",n)[c],p=c===a?this.$D+(e-this.$W):e;if(c===l||c===h){var m=this.clone().set(d,1);m.$d[f](p),m.init(),this.$d=m.set(d,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},y.set=function(t,e){return this.clone().$set(t,e)},y.get=function(t){return this[x.p(t)]()},y.add=function(r,u){var d,f=this;r=Number(r);var p=x.p(u),m=function(t){var e=T(f);return x.w(e.date(e.date()+Math.round(t*r)),f)};if(p===l)return this.set(l,this.$M+r);if(p===h)return this.set(h,this.$y+r);if(p===a)return m(1);if(p===c)return m(7);var g=(d={},d[i]=e,d[o]=n,d[s]=t,d)[p]||1,y=this.$d.getTime()+r*g;return x.w(y,this)},y.subtract=function(t,e){return this.add(-1*t,e)},y.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var r=t||"YYYY-MM-DDTHH:mm:ssZ",s=x.z(this),i=this.$H,o=this.$m,a=this.$M,c=n.weekdays,l=n.months,u=function(t,n,s,i){return t&&(t[n]||t(e,r))||s[n].substr(0,i)},h=function(t){return x.s(i%12||12,t,"0")},d=n.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:x.s(a+1,2,"0"),MMM:u(n.monthsShort,a,l,3),MMMM:u(l,a),D:this.$D,DD:x.s(this.$D,2,"0"),d:String(this.$W),dd:u(n.weekdaysMin,this.$W,c,2),ddd:u(n.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(i),HH:x.s(i,2,"0"),h:h(1),hh:h(2),a:d(i,o,!0),A:d(i,o,!1),m:String(o),mm:x.s(o,2,"0"),s:String(this.$s),ss:x.s(this.$s,2,"0"),SSS:x.s(this.$ms,3,"0"),Z:s};return r.replace(m,(function(t,e){return e||p[t]||s.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(r,d,f){var p,m=x.p(d),g=T(r),y=(g.utcOffset()-this.utcOffset())*e,v=this-g,b=x.m(this,g);return b=(p={},p[h]=b/12,p[l]=b,p[u]=b/3,p[c]=(v-y)/6048e5,p[a]=(v-y)/864e5,p[o]=v/n,p[i]=v/e,p[s]=v/t,p)[m]||v,f?b:x.a(b)},y.daysInMonth=function(){return this.endOf(l).$D},y.$locale=function(){return $[this.$L]},y.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=w(t,e,!0);return r&&(n.$L=r),n},y.clone=function(){return x.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},g}(),S=E.prototype;return T.prototype=S,[["$ms",r],["$s",s],["$m",i],["$H",o],["$W",a],["$M",l],["$y",h],["$D",d]].forEach((function(t){S[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),T.extend=function(t,e){return t.$i||(t(e,E,T),t.$i=!0),T},T.locale=w,T.isDayjs=_,T.unix=function(t){return T(1e3*t)},T.en=$[b],T.Ls=$,T.p={},T}(),nr={exports:{}};Zn=re,Qn=function(t){var e=function(t){return new e.lib.init(t)};function n(t,e){return e.offset[t]?isNaN(e.offset[t])?e.offset[t]:e.offset[t]+"px":"0px"}function r(t,e){return!(!t||"string"!=typeof e||!(t.className&&t.className.trim().split(/\s+/gi).indexOf(e)>-1))}return e.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,style:{background:""}},e.lib=e.prototype={toastify:"1.11.2",constructor:e,init:function(t){return t||(t={}),this.options={},this.toastElement=null,this.options.text=t.text||e.defaults.text,this.options.node=t.node||e.defaults.node,this.options.duration=0===t.duration?0:t.duration||e.defaults.duration,this.options.selector=t.selector||e.defaults.selector,this.options.callback=t.callback||e.defaults.callback,this.options.destination=t.destination||e.defaults.destination,this.options.newWindow=t.newWindow||e.defaults.newWindow,this.options.close=t.close||e.defaults.close,this.options.gravity="bottom"===t.gravity?"toastify-bottom":e.defaults.gravity,this.options.positionLeft=t.positionLeft||e.defaults.positionLeft,this.options.position=t.position||e.defaults.position,this.options.backgroundColor=t.backgroundColor||e.defaults.backgroundColor,this.options.avatar=t.avatar||e.defaults.avatar,this.options.className=t.className||e.defaults.className,this.options.stopOnFocus=void 0===t.stopOnFocus?e.defaults.stopOnFocus:t.stopOnFocus,this.options.onClick=t.onClick||e.defaults.onClick,this.options.offset=t.offset||e.defaults.offset,this.options.escapeMarkup=void 0!==t.escapeMarkup?t.escapeMarkup:e.defaults.escapeMarkup,this.options.style=t.style||e.defaults.style,t.backgroundColor&&(this.options.style.background=t.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var t=document.createElement("div");for(var e in t.className="toastify on "+this.options.className,this.options.position?t.className+=" toastify-"+this.options.position:!0===this.options.positionLeft?(t.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):t.className+=" toastify-right",t.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.'),this.options.style)t.style[e]=this.options.style[e];if(this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)t.appendChild(this.options.node);else if(this.options.escapeMarkup?t.innerText=this.options.text:t.innerHTML=this.options.text,""!==this.options.avatar){var r=document.createElement("img");r.src=this.options.avatar,r.className="toastify-avatar","left"==this.options.position||!0===this.options.positionLeft?t.appendChild(r):t.insertAdjacentElement("afterbegin",r)}if(!0===this.options.close){var s=document.createElement("span");s.innerHTML="&#10006;",s.className="toast-close",s.addEventListener("click",function(t){t.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}.bind(this));var i=window.innerWidth>0?window.innerWidth:screen.width;("left"==this.options.position||!0===this.options.positionLeft)&&i>360?t.insertAdjacentElement("afterbegin",s):t.appendChild(s)}if(this.options.stopOnFocus&&this.options.duration>0){var o=this;t.addEventListener("mouseover",(function(e){window.clearTimeout(t.timeOutValue)})),t.addEventListener("mouseleave",(function(){t.timeOutValue=window.setTimeout((function(){o.removeElement(t)}),o.options.duration)}))}if(void 0!==this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),!0===this.options.newWindow?window.open(this.options.destination,"_blank"):window.location=this.options.destination}.bind(this)),"function"==typeof this.options.onClick&&void 0===this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),this.options.onClick()}.bind(this)),"object"==typeof this.options.offset){var a=n("x",this.options),c=n("y",this.options),l="left"==this.options.position?a:"-"+a,u="toastify-top"==this.options.gravity?c:"-"+c;t.style.transform="translate("+l+","+u+")"}return t},showToast:function(){var t;if(this.toastElement=this.buildToast(),!(t="string"==typeof this.options.selector?document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||"undefined"!=typeof ShadowRoot&&this.options.selector instanceof ShadowRoot?this.options.selector:document.body))throw"Root element is not defined";var n=e.defaults.oldestFirst?t.firstChild:t.lastChild;return t.insertBefore(this.toastElement,n),e.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout(function(){this.removeElement(this.toastElement)}.bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(t){t.className=t.className.replace(" on",""),window.setTimeout(function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),t.parentNode&&t.parentNode.removeChild(t),this.options.callback.call(t),e.reposition()}.bind(this),400)}},e.reposition=function(){for(var t,e={top:15,bottom:15},n={top:15,bottom:15},s={top:15,bottom:15},i=document.getElementsByClassName("toastify"),o=0;o<i.length;o++){t=!0===r(i[o],"toastify-top")?"toastify-top":"toastify-bottom";var a=i[o].offsetHeight;t=t.substr(9,t.length-1),(window.innerWidth>0?window.innerWidth:screen.width)<=360?(i[o].style[t]=s[t]+"px",s[t]+=a+15):!0===r(i[o],"toastify-left")?(i[o].style[t]=e[t]+"px",e[t]+=a+15):(i[o].style[t]=n[t]+"px",n[t]+=a+15)}return this},e.lib.init.prototype=e.lib,e},(
/*!
 * Toastify js 1.11.2
 * https://github.com/apvarun/toastify-js
 * @license MIT licensed
 *
 * Copyright (C) 2018 Varun A P
 */
Xn=nr).exports?Xn.exports=Qn():Zn.Toastify=Qn();var rr=nr.exports;function sr(t,{from:e,to:n},r={}){const s=getComputedStyle(t),i="none"===s.transform?"":s.transform,[o,a]=s.transformOrigin.split(" ").map(parseFloat),c=e.left+e.width*o/n.width-(n.left+o),l=e.top+e.height*a/n.height-(n.top+a),{delay:u=0,duration:h=(t=>120*Math.sqrt(t)),easing:d=Hn}=r;return{delay:u,duration:m(h)?h(Math.sqrt(c*c+l*l)):h,easing:d,css:(t,r)=>{const s=r*c,o=r*l,a=t+r*e.width/n.width,u=t+r*e.height/n.height;return`transform: ${i} translate(${s}px, ${o}px) scale(${a}, ${u});`}}}const ir={duration:4e3,initial:1,next:0,pausable:!1,dismissable:!0,reversed:!1,intro:{x:256},theme:{}},or=(()=>{const{subscribe:t,update:e}=ee([]);let n=0;const r={},s=t=>t instanceof Object;return{subscribe:t,push:(t,i={})=>{const o=a({target:"default"},s(t)?t:c(a({},i),{msg:t})),l=r[o.target]||{},u=c(a(a(a({},ir),l),o),{theme:a(a({},l.theme),o.theme),id:++n});return e((t=>u.reversed?[...t,u]:[u,...t])),n},pop:t=>{e((e=>{if(!e.length||0===t)return[];if(s(t))return e.filter((e=>t(e)));const n=t||Math.max(...e.map((t=>t.id)));return e.filter((t=>t.id!==n))}))},set:(t,n={})=>{const r=s(t)?a({},t):c(a({},n),{id:t});e((t=>{const e=t.findIndex((t=>t.id===r.id));return e>-1&&(t[e]=a(a({},t[e]),r)),t}))},_init:(t="default",e={})=>(r[t]=e,r)}})();function ar(t){return"[object Date]"===Object.prototype.toString.call(t)}function cr(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map(((e,n)=>cr(t[n],e)));return t=>n.map((e=>e(t)))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(ar(t)&&ar(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),r={};return n.forEach((n=>{r[n]=cr(t[n],e[n])})),t=>{const e={};return n.forEach((n=>{e[n]=r[n](t)})),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}function lr(t){let e,n,r=t[0].msg+"";return{c(){e=new it,n=G(),this.h()},l(t){e=function(t){const e=Z(t,"HTML_TAG_START",0),n=Z(t,"HTML_TAG_END",e);if(e===n)return new it;z(t);const r=t.splice(e,n+1);U(r[0]),U(r[r.length-1]);const s=r.slice(1,r.length-1);for(const i of s)i.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1;return new it(s)}(t),n=G(),this.h()},h(){e.a=n},m(t,s){e.m(r,t,s),N(t,n,s)},p(t,n){1&n&&r!==(r=t[0].msg+"")&&e.p(r)},i:l,o:l,d(t){t&&U(n),t&&e.d()}}}function ur(t){let e,n,r;const s=[t[6]()];var i=t[0].component.src;function o(t){let e={};for(let n=0;n<s.length;n+=1)e=h(e,s[n]);return{props:e}}return i&&(e=new i(o())),{c(){e&&Vt(e.$$.fragment),n=G()},l(t){e&&Yt(e.$$.fragment,t),n=G()},m(t,s){e&&Kt(e,t,s),N(t,n,s),r=!0},p(t,r){const a=64&r?qt(s,[Jt(t[6]())]):{};if(i!==(i=t[0].component.src)){if(e){Dt();const t=e;Ut(t.$$.fragment,1,0,(()=>{Xt(t,1)})),Mt()}i?(e=new i(o()),Vt(e.$$.fragment),Nt(e.$$.fragment,1),Kt(e,n.parentNode,n)):e=null}else i&&e.$set(a)},i(t){r||(e&&Nt(e.$$.fragment,t),r=!0)},o(t){e&&Ut(e.$$.fragment,t),r=!1},d(t){t&&U(n),e&&Xt(e,t)}}}function hr(t){let e,n,r,s;return{c(){e=L("div"),n=H("✕"),this.h()},l(t){e=Y(t,"DIV",{class:!0,role:!0,tabindex:!0});var r=J(e);n=K(r,"✕"),r.forEach(U),this.h()},h(){q(e,"class","_toastBtn pe svelte-j9nwjb"),q(e,"role","button"),q(e,"tabindex","-1")},m(i,o){N(i,e,o),D(e,n),r||(s=W(e,"click",t[3]),r=!0)},p:l,d(t){t&&U(e),r=!1,s()}}}function dr(t){let e,n,r,s,i,o,a,c,l,u;const h=[ur,lr],d=[];function f(t,e){return t[0].component?0:1}r=f(t),s=d[r]=h[r](t);let m=t[0].dismissable&&hr(t);return{c(){e=L("div"),n=L("div"),s.c(),i=F(),m&&m.c(),o=F(),a=L("progress"),this.h()},l(t){e=Y(t,"DIV",{class:!0});var r=J(e);n=Y(r,"DIV",{class:!0});var c=J(n);s.l(c),c.forEach(U),i=X(r),m&&m.l(r),o=X(r),a=Y(r,"PROGRESS",{class:!0}),J(a).forEach(U),r.forEach(U),this.h()},h(){q(n,"class","_toastMsg svelte-j9nwjb"),nt(n,"pe",t[0].component),q(a,"class","_toastBar svelte-j9nwjb"),a.value=t[1],q(e,"class","_toastItem svelte-j9nwjb"),nt(e,"pe",t[0].pausable)},m(s,h){N(s,e,h),D(e,n),d[r].m(n,null),D(e,i),m&&m.m(e,null),D(e,o),D(e,a),c=!0,l||(u=[W(e,"mouseenter",t[4]),W(e,"mouseleave",t[5])],l=!0)},p(t,[i]){let l=r;r=f(t),r===l?d[r].p(t,i):(Dt(),Ut(d[l],1,1,(()=>{d[l]=null})),Mt(),s=d[r],s?s.p(t,i):(s=d[r]=h[r](t),s.c()),Nt(s,1),s.m(n,null)),1&i&&nt(n,"pe",t[0].component),t[0].dismissable?m?m.p(t,i):(m=hr(t),m.c(),m.m(e,o)):m&&(m.d(1),m=null),(!c||2&i)&&(a.value=t[1]),1&i&&nt(e,"pe",t[0].pausable)},i(t){c||(Nt(s),c=!0)},o(t){Ut(s),c=!1},d(t){t&&U(e),d[r].d(),m&&m.d(),l=!1,p(u)}}}function fr(t,e,n){let r,{item:s}=e;const i=function(t,e={}){const n=ee(t);let r,s=t;function i(i,o){if(null==t)return n.set(t=i),Promise.resolve();s=i;let a=r,c=!1,{delay:l=0,duration:d=400,easing:f=u,interpolate:p=cr}=h(h({},e),o);if(0===d)return a&&(a.abort(),a=null),n.set(t=s),Promise.resolve();const m=S()+l;let g;return r=P((e=>{if(e<m)return!0;c||(g=p(t,i),"function"==typeof d&&(d=d(t,i)),c=!0),a&&(a.abort(),a=null);const r=e-m;return r>d?(n.set(t=i),!1):(n.set(t=g(f(r/d))),!0)})),r.promise}return{set:i,update:(e,n)=>i(e(s,t),n),subscribe:n.subscribe}}(s.initial,{duration:s.duration,easing:u});b(t,i,(t=>n(1,r=t)));const o=()=>or.pop(s.id),a=()=>{1!==r&&0!==r||o()};let c=s.initial,l=c,d=!1;var f;return f=()=>{"function"==typeof s.onpop&&s.onpop(s.id)},ft().$$.on_destroy.push(f),t.$$set=t=>{"item"in t&&n(0,s=t.item)},t.$$.update=()=>{1&t.$$.dirty&&void 0!==s.progress&&n(0,s.next=s.progress,s),131&t.$$.dirty&&c!==s.next&&(n(7,c=s.next),l=r,d=!1,i.set(c).then(a))},[s,r,i,o,()=>{s.pausable&&!d&&r!==c&&(i.set(r,{duration:0}),d=!0)},()=>{if(d){const t=s.duration,e=t-t*((r-l)/(c-l));i.set(c,{duration:e}).then(a),d=!1}},()=>{const{props:t={},sendIdTo:e}=s.component;return e&&(t[e]=s.id),t},c]}class pr extends Qt{constructor(t){super(),Zt(this,t,fr,dr,g,{item:0})}}function mr(t,e,n){const r=t.slice();return r[5]=e[n],r}function gr(t,e){let n,r,s,i,o,a,c,h,d=l;return r=new pr({props:{item:e[5]}}),{key:t,first:null,c(){n=L("li"),Vt(r.$$.fragment),s=F(),this.h()},l(t){n=Y(t,"LI",{style:!0});var e=J(n);Yt(r.$$.fragment,e),s=X(e),e.forEach(U),this.h()},h(){q(n,"style",i=e[1](e[5].theme)),this.first=n},m(t,e){N(t,n,e),Kt(r,n,null),D(n,s),h=!0},p(t,s){e=t;const o={};1&s&&(o.item=e[5]),r.$set(o),(!h||1&s&&i!==(i=e[1](e[5].theme)))&&q(n,"style",i)},r(){c=n.getBoundingClientRect()},f(){!function(t){const e=getComputedStyle(t);if("absolute"!==e.position&&"fixed"!==e.position){const{width:n,height:r}=e,s=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=r,ht(t,s)}}(n),d(),ht(n,c)},a(){d(),d=function(t,e,n,r){if(!e)return l;const s=t.getBoundingClientRect();if(e.left===s.left&&e.right===s.right&&e.top===s.top&&e.bottom===s.bottom)return l;const{delay:i=0,duration:o=300,easing:a=u,start:c=S()+i,end:h=c+o,tick:d=l,css:f}=n(t,{from:e,to:s},r);let p,m=!0,g=!1;function y(){f&&ut(t,p),m=!1}return P((t=>{if(!g&&t>=c&&(g=!0),g&&t>=h&&(d(1,0),y()),!m)return!1;if(g){const e=0+1*a((t-c)/o);d(e,1-e)}return!0})),f&&(p=lt(t,0,1,o,i,a,f)),i||(g=!0),d(0,1),y}(n,c,sr,{duration:200})},i(t){h||(Nt(r.$$.fragment,t),xt((()=>{a&&a.end(1),o=Lt(n,Wn,e[5].intro),o.start()})),h=!0)},o(t){Ut(r.$$.fragment,t),o&&o.invalidate(),a=Ht(n,Gn,{}),h=!1},d(t){t&&U(n),Xt(r),t&&a&&a.end()}}}function yr(t){let e,n,r=[],s=new Map,i=t[0];const o=t=>t[5].id;for(let a=0;a<i.length;a+=1){let e=mr(t,i,a),n=o(e);s.set(n,r[a]=gr(n,e))}return{c(){e=L("ul");for(let t=0;t<r.length;t+=1)r[t].c();this.h()},l(t){e=Y(t,"UL",{class:!0});var n=J(e);for(let e=0;e<r.length;e+=1)r[e].l(n);n.forEach(U),this.h()},h(){q(e,"class","_toastContainer svelte-7xr3c1")},m(t,s){N(t,e,s);for(let n=0;n<r.length;n+=1)r[n].m(e,null);n=!0},p(t,[n]){if(3&n){i=t[0],Dt();for(let t=0;t<r.length;t+=1)r[t].r();r=function(t,e,n,r,s,i,o,a,c,l,u,h){let d=t.length,f=i.length,p=d;const m={};for(;p--;)m[t[p].key]=p;const g=[],y=new Map,v=new Map;for(p=f;p--;){const t=h(s,i,p),a=n(t);let c=o.get(a);c?r&&c.p(t,e):(c=l(a,t),c.c()),y.set(a,g[p]=c),a in m&&v.set(a,Math.abs(p-m[a]))}const b=new Set,$=new Set;function _(t){Nt(t,1),t.m(a,u),o.set(t.key,t),u=t.first,f--}for(;d&&f;){const e=g[f-1],n=t[d-1],r=e.key,s=n.key;e===n?(u=e.first,d--,f--):y.has(s)?!o.has(r)||b.has(r)?_(e):$.has(s)?d--:v.get(r)>v.get(s)?($.add(r),_(e)):(b.add(s),d--):(c(n,o),d--)}for(;d--;){const e=t[d];y.has(e.key)||c(e,o)}for(;f;)_(g[f-1]);return g}(r,n,o,1,t,i,s,e,Wt,gr,null,mr);for(let t=0;t<r.length;t+=1)r[t].a();Mt()}},i(t){if(!n){for(let t=0;t<i.length;t+=1)Nt(r[t]);n=!0}},o(t){for(let e=0;e<r.length;e+=1)Ut(r[e]);n=!1},d(t){t&&U(e);for(let e=0;e<r.length;e+=1)r[e].d()}}}function vr(t,e,n){let r;b(t,or,(t=>n(4,r=t)));let s,{options:i={}}=e,{target:o="default"}=e;return t.$$set=t=>{"options"in t&&n(2,i=t.options),"target"in t&&n(3,o=t.target)},t.$$.update=()=>{12&t.$$.dirty&&or._init(o,i),24&t.$$.dirty&&n(0,s=r.filter((t=>t.target===o)))},[s,t=>Object.keys(t).reduce(((e,n)=>`${e}${n}:${t[n]};`),""),i,o,r]}class br extends Qt{constructor(t){super(),Zt(this,t,vr,yr,g,{options:2,target:3})}}export{Ln as $,pt as A,h as B,ee as C,xt as D,et as E,D as F,W as G,l as H,p as I,Gt as J,vt as K,$ as L,T as M,x as N,w as O,Dn as P,Kn as Q,zt as R,Qt as S,v as T,Et as U,Ht as V,Lt as W,Wn as X,tt as Y,Ft as Z,er as _,J as a,b as a0,qn as a1,Gn as a2,rr as a3,br as a4,B as a5,or as a6,Fn as a7,st as a8,q as b,Y as c,U as d,L as e,N as f,K as g,Q as h,Zt as i,Vt as j,F as k,G as l,Yt as m,X as n,Kt as o,qt as p,Jt as q,Dt as r,g as s,H as t,Ut as u,Xt as v,Mt as w,Nt as x,gt as y,mt as z};
