import{S as a,i as s,s as t,a4 as e,e as r,t as n,k as o,j as i,c as l,a as c,g as d,d as u,n as h,m,b as f,f as v,F as g,o as p,x as y,D as E,u as b,V as x,v as A,A as $,W as I,X as S,E as j}from"../../chunks/vendor-969998bb.js";import{s as M}from"../../chunks/global-04cce44f.js";import{g as k}from"../../chunks/navigation-51f4a605.js";import"../../chunks/singletons-12a22614.js";function T(a){let s,t,e;return{c(){s=r("div"),t=r("span"),e=n("Loading..."),this.h()},l(a){s=l(a,"DIV",{class:!0,role:!0});var r=c(s);t=l(r,"SPAN",{class:!0});var n=c(t);e=d(n,"Loading..."),n.forEach(u),r.forEach(u),this.h()},h(){f(t,"class","visually-hidden"),f(s,"class","spinner-border"),f(s,"role","status")},m(a,r){v(a,s,r),g(s,t),g(t,e)},d(a){a&&u(s)}}}function w(a){let s,t,e,i,m;return{c(){s=r("div"),t=r("i"),e=o(),i=r("p"),m=n("Sorry, you do not have any privilege to sign in a Moderator Account"),this.h()},l(a){s=l(a,"DIV",{class:!0});var r=c(s);t=l(r,"I",{class:!0,style:!0}),c(t).forEach(u),e=h(r),i=l(r,"P",{class:!0});var n=c(i);m=d(n,"Sorry, you do not have any privilege to sign in a Moderator Account"),n.forEach(u),r.forEach(u),this.h()},h(){f(t,"class","bi bi-exclamation-diamond"),j(t,"font-size","10rem"),f(i,"class","mt-5 lead"),f(s,"class","mt-5 text-center")},m(a,r){v(a,s,r),g(s,t),g(s,e),g(s,i),g(i,m)},d(a){a&&u(s)}}}function D(a){let s,t,$,j,M,k,D,L,V,G;function N(a,s){return 0==a[0]?w:null==a[0]?T:void 0}M=new e({props:{option:{duration:1e3}}});let P=N(a),q=P&&P(a);return{c(){s=r("svele:head"),t=r("title"),$=n("Moderator Sign In | Abie G"),j=o(),i(M.$$.fragment),k=o(),D=r("main"),q&&q.c(),this.h()},l(a){s=l(a,"SVELE:HEAD",{});var e=c(s);t=l(e,"TITLE",{});var r=c(t);$=d(r,"Moderator Sign In | Abie G"),r.forEach(u),e.forEach(u),j=h(a),m(M.$$.fragment,a),k=h(a),D=l(a,"MAIN",{class:!0});var n=c(D);q&&q.l(n),n.forEach(u),this.h()},h(){f(D,"class","text-white d-flex flex-column align-items-center justify-content-center svelte-e67pm3")},m(a,e){v(a,s,e),g(s,t),g(t,$),v(a,j,e),p(M,a,e),v(a,k,e),v(a,D,e),q&&q.m(D,null),G=!0},p(a,[s]){P!==(P=N(a))&&(q&&q.d(1),q=P&&P(a),q&&(q.c(),q.m(D,null)))},i(a){G||(y(M.$$.fragment,a),E((()=>{V&&V.end(1),L=I(D,S,{y:-40,duration:500,delay:500}),L.start()})),G=!0)},o(a){b(M.$$.fragment,a),L&&L.invalidate(),V=x(D,S,{y:40,duration:500}),G=!1},d(a){a&&u(s),a&&u(j),A(M,a),a&&u(k),a&&u(D),q&&q.d(),a&&V&&V.end()}}}function L(a,s,t){let e=null;return $((async a=>{let s=await M.auth.user();if(s){let{data:a,error:r}=await M.from("users").select("*").eq("id",s.id);1==a[0].isModerator?setTimeout((()=>{t(0,e=!0),k("/admin/dashboard")}),1e3):(t(0,e=!1),setTimeout((()=>{k("/admin/dashboard")}),1e3))}else t(0,e=!1),setTimeout((()=>{k("/")}),1500)})),[e]}class V extends a{constructor(a){super(),s(this,a,L,D,t,{})}}export{V as default};
